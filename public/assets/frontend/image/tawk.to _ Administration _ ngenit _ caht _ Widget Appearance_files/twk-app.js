import{c as ie,_ as bt,a as jt,s as ge,b as he,r as fe}from"./twk-main.js";import{d as gt,u as _t,a as oe,b as re,r as M,c as yt,e as p,w as ut,n as be,o as Lt,f as R,g as tt,v as Ct,h as i,i as a,j as n,k as l,l as o,m as Mt,t as w,p as g,q as y,F as Z,s as ot,x as L,y as K,z as k,A as St,B as Ft,T as ne,C as Nt,D as me,E as mt,G as Xt,H as le,I as ae,J as ve,K as xe,L as se,M as ye}from"./twk-vendor.js";import{t as Ce}from"./twk-ticket-service.js";const _e={key:0,class:"tawk-flex tawk-flex-middle tawk-height-100 tawk-padding-medium-horizontal"},ze={key:1,class:"tawk-property-navigation-item"},$e={key:0},Me={key:0,class:"tawk-flex tawk-flex-middle"},Se={class:"tawk-property-multi-1 tawk-flex tawk-flex-middle"},Ne={key:0,class:"tawk-property-navigation-avatar tawk-flex-none"},Te=["src"],Ie={key:2,class:"tawk-margin-left tawk-text-truncate"},Le={key:0,class:"tawk-property-multi-2"},Ae={key:0,class:"tawk-property-navigation-avatar tawk-flex-none"},Pe=["src"],Ee={key:1,class:"tawk-property-multi-3"},Ve={key:0,class:"tawk-property-navigation-avatar tawk-flex-none"},Re=["src"],qe={key:2},Fe={key:1,class:"tawk-flex tawk-flex-middle tawk-width-100"},Ge={key:0,class:"tawk-property-navigation-avatar tawk-flex-none"},Oe=["src"],Be={class:"tawk-margin-left tawk-text-truncate"},He={id:"tawk-property-navigation-search-container",class:"tawk-padding tawk-padding-medium-horizontal tawk-flex tawk-flex-middle tawk-position-relative tawk-border-default-top tawk-border-default-bottom"},De={id:"tawk-property-navigation-search-title",class:"tawk-text-bold-2"},Ue=["onClick"],je={key:1,class:"tawk-property-navigation-avatar tawk-flex-none"},We=["src"],Ke={class:"tawk-margin-left tawk-text-truncate tawk-flex-1"},Ye={key:0},Je={key:3,class:"tawk-margin-left tawk-flex-none"},Xe={key:4,class:"tawk-flex-none tawk-margin-xsmall-left tawk-badge-red"},Qe={class:"tawk-property-navigation-avatar tawk-flex-none",style:{background:"#d9dbe4"}},Ze=o("div",{class:"tawk-margin-left tawk-text-truncate"}," Add Property ",-1),ta=gt({__name:"property-navigation",setup(t){const e=_t();oe();const r=re(),s=M(!0),c=yt([]),d=M({}),b=M(),C=yt({}),u=M(),q=M(!1),F=M(!1),D=M(!1),B=M(!1),h=yt([]),Y=M(!1),A=p(()=>e.getters["properties/properties"]),it=p(()=>e.getters["properties/processed"]),et=p(()=>e.getters["navigation/viewSpecificProperties"]),m=p(()=>e.getters["navigation/isMultiSelect"]),I=p(()=>e.getters["navigation/showProfileProperty"]),S=p(()=>e.getters["inlineChats/isLiveChatView"]),V=p(()=>e.getters["inlineChats/selectedPropertiesId"]),O=p(()=>e.getters["inlineChats/isAllSelected"]),rt=p(()=>{let $;return D.value?$=et.value:$=c,b.value?_.filter($,U=>U.propertyName.toLowerCase().indexOf(b.value.toLowerCase())!==-1):$});ut([it,A],$=>{$&&v()},{deep:!0}),ut(d,$=>{$&&$.id&&(e.dispatch("navigation/propertyChange",$.id),be(()=>{const U=C[$.id];U&&u.value&&(u.value.scrollTop=U.offsetTop-70)}))}),ut(()=>r.path,P),ut(()=>r.params.propertyId,$=>{if($&&d.value&&$!==d.value.id){const U=_.find(c,["id",$]);U&&(d.value=U)}}),ut(et,$=>{$.length?(D.value=!0,H(),u.value.scrollTop=0):D.value=!1},{deep:!0}),ut(I,$=>{!$&&d.value.isProfile&&rt.value.length&&x(rt.value[0])}),ut(S,$=>{$?(e.commit("navigation/setIsMultiSelect",!0),H()):e.commit("navigation/setIsMultiSelect",!1)});function v(){let $=r.params.propertyId||window.main.storageSettings.propertyId;s.value=!1,d.value={},c.clear();for(let U=0;U<A.value.length;U++){const nt=A.value[U],E={id:nt.id,propertyName:nt.propertyName,logo:nt.logo,propertyColor:nt.propertyColor,propertyShortName:nt.propertyShortName,selected:$===nt.id,aggregate:0,isProfile:nt.type==="profile"};$===nt.id&&(d.value=E),c.push(E)}(!d.value||!d.value.id)&&c.length>0&&(d.value=c[0]),P(r.path),S.value&&H()}function P($){$.indexOf("inbox")===1?(N(),F.value=!0,Y.value=!1):$.indexOf("account")===1?Y.value=!0:(F.value=!1,Y.value=!1)}async function N(){const{error:$,response:U}=await ie.getAggregatePerProperty({includeMine:!1});if($)return;const{totals:nt}=U.data;for(let E=0;E<nt.length;E++){const J=nt[E],dt=_.find(c,["id",J.propertyId]);dt&&(dt.aggregate=J.total)}}function x($){m.value&&Tawk.topNavigation.multiSelectAction?(Tawk.topNavigation.multiSelectAction.send("togglePropertySelection",$.id),H()):S.value?($.isSelected=!$.isSelected,H()):(b.value=null,d.value=$)}function H(){if(s.value)return;let $;if(S.value){if(B.value=O.value,B.value)_.forEach(c,U=>{U.isSelected=!0});else if(V.length)for(let U=0;U<V.length;U++){const nt=V[U],E=_.find(c,["id",nt]);E&&(E.isSelected=!0)}$=_.filter(c,["isSelected",!0]),e.commit("inlineChats/setSelectedPropertiesId",_.map($,"id"))}else $=_.filter(et.value,["isSelected",!0]),B.value=Tawk.topNavigation.multiSelectAction.allPropertiesIncluded;h.clear(),h.push(...$.slice(0,4))}function at(){m.value&&Tawk.topNavigation.multiSelectAction?(Tawk.topNavigation.multiSelectAction.send("toggleAllProperties"),H()):S&&(O.value&&pt(),e.commit("inlineChats/setIsAllSelected",!O.value),H())}function pt(){_.forEach(c,$=>{$.isSelected=!1}),e.commit("inlineChats/setSelectedPropertiesId",[])}return Lt(()=>{window.emitter.on("reloadPropertiesAggregate",N)}),($,U)=>{const nt=R("tawk-content-placeholder"),E=R("tawk-icon"),J=R("tawk-checkbox"),dt=R("tawk-input"),vt=R("router-link");return tt((a(),n("div",{id:"tawk-property-navigation",onMouseover:U[1]||(U[1]=W=>q.value=!0),onMouseleave:U[2]||(U[2]=W=>q.value=!1)},[s.value?(a(),n("div",_e,[l(nt,{width:"40px",height:"40px",radius:"5px"}),l(nt,{width:"120px",height:"10px",radius:"5px",class:"tawk-margin-left"})])):(a(),n("div",ze,[i(m)?(a(),n("div",$e,[h.length>=1?(a(),n("div",Me,[o("div",Se,[h[0].logo?(a(),n("div",Ne,[o("img",{src:h[0].logo,class:"tawk-width-100 tawk-height-100"},null,8,Te)])):(a(),n("div",{key:1,class:"tawk-property-navigation-avatar tawk-flex-none",style:Mt(h[0].propertyColor)},w(h[0].propertyShortName),5)),h.length===1?(a(),n("div",Ie,w(h[0].propertyName),1)):g("",!0)]),h[1]?(a(),n("div",Le,[h[1].logo?(a(),n("div",Ae,[o("img",{src:h[1].logo,class:"tawk-width-100 tawk-height-100"},null,8,Pe)])):(a(),n("div",{key:1,class:"tawk-property-navigation-avatar tawk-flex-none",style:Mt(h[1].propertyColor)},w(h[1].propertyShortName),5))])):g("",!0),h[2]?(a(),n("div",Ee,[h[2].logo?(a(),n("div",Ve,[o("img",{src:h[2].logo,class:"tawk-width-100 tawk-height-100"},null,8,Re)])):(a(),n("div",{key:1,class:"tawk-property-navigation-avatar tawk-flex-none",style:Mt(h[2].propertyColor)},w(h[2].propertyShortName),5))])):g("",!0),h[3]?(a(),n("div",qe,[l(E,{type:"menu-list-horizontal"})])):g("",!0)])):g("",!0)])):(a(),n("div",Fe,[d.value.logo?(a(),n("div",Ge,[o("img",{src:d.value.logo,class:"tawk-width-100 tawk-height-100"},null,8,Oe)])):(a(),n("div",{key:1,class:"tawk-property-navigation-avatar tawk-flex-none",style:Mt(d.value.propertyColor)},w(d.value.propertyShortName),5)),o("div",Be,w(d.value.propertyName),1)]))])),o("div",{id:"tawk-property-navigation-list",class:L(["tawk-flex tawk-flex-column",{show:q.value}])},[o("div",He,[i(m)?(a(),y(J,{key:0,groupName:"allProperties",options:[{id:"all",value:"all"}],value:B.value?["all"]:[],onInput:at,class:"tawk-checkbox-visible tawk-margin-right"},null,8,["value"])):g("",!0),l(E,{type:"search",size:"medium"}),o("div",De,w($.$i18n("generic","properties")),1),l(dt,{id:"tawk-property-navigation-search-input",value:b.value,onInput:U[0]||(U[0]=W=>{b.value=W}),preValue:b.value},null,8,["value","preValue"])]),o("div",{class:"tawk-overflow-auto list tawk-flex-1",ref_key:"propertiesContainer",ref:u},[(a(!0),n(Z,null,ot(i(rt),W=>tt((a(),n("div",{key:W.id,ref_for:!0,ref:Tt=>{C[W.id]=Tt},class:L(["tawk-property-navigation-item",{selected:i(m)&&W.isSelected||!i(m)&&d.value.id===W.id,multi:i(m)}]),onClick:Tt=>x(W)},[i(m)?(a(),y(J,{key:0,groupName:"propertyItem",options:[{id:W.id,value:W.id}],value:W.isSelected?[W.id]:[],class:L({"tawk-checkbox-visible":W.isSelected}),onInput:Tt=>x(W)},null,8,["options","value","class","onInput"])):g("",!0),W.logo?(a(),n("div",je,[o("img",{src:W.logo,class:"tawk-width-100 tawk-height-100"},null,8,We)])):(a(),n("div",{key:2,class:"tawk-property-navigation-avatar tawk-flex-none",style:Mt(W.propertyColor)},w(W.propertyShortName),5)),o("div",Ke,[K(w(W.propertyName)+" ",1),W.isProfile?(a(),n("span",Ye)):g("",!0)]),W.isProfile?(a(),n("div",Je," (Profile) ")):g("",!0),F.value&&W.aggregate?(a(),n("div",Xe,w(W.aggregate),1)):g("",!0)],10,Ue)),[[Ct,!W.isProfile||i(I)]])),128))],512),l(vt,{class:"tawk-text-white tawk-property-navigation-item tawk-border-default-top",to:"/admin/new-property"},{default:k(()=>[o("div",Qe,[l(E,{type:"plus",class:"tawk-text-green-1"})]),Ze]),_:1})],2)],544)),[[Ct,!Y.value&&(c.length>1||c.length===1&&i(I))]])}}});const ea={id:"tawk-global-search-icon",class:"tawk-flex tawk-flex-middle tawk-flex-center"},aa={id:"tawk-global-search-input"},ia={class:"list-search-input"},oa={class:"list-search-section tawk-flex"},ra={class:"tawk-flex-1 tawk-padding-medium"},na={class:"tawk-flex-1 tawk-text-truncate"},la=["onClick"],sa={class:"tawk-flex-1 tawk-text-truncate"},da={class:"list-search-results tawk-padding-medium-top tawk-border-default-left tawk-padding-medium-bottom",style:{width:"350px"}},ca={key:0,class:"tawk-text-regular-2 tawk-padding-medium-horizontal tawk-padding-top tawk-text-bold-2"},pa={class:"search-results-wrapper"},wa={class:"search-category tawk-margin-top tawk-padding-medium-horizontal"},ua={class:"tawk-text-bold-1"},ka={key:0},ga={key:0},ha={class:"tawk-text-grey-2 tawk-padding-medium-horizontal"},fa=["onClick"],ba={class:"tawk-flex-none"},ma={class:"tawk-padding tawk-flex tawk-flex-column tawk-width-100 tawk-text-regular-2"},va={class:"tawk-text-bold-1"},xa={key:1,class:"tawk-flex"},ya={key:0,class:"tawk-margin-right tawk-margin-left"},Ca={class:"text-ellipsis"},_a={key:0,class:"tawk-padding-medium-horizontal tawk-padding-bottom"},za={key:1,class:"tawk-flex tawk-flex-middle tawk-padding-medium-horizontal"},$a={class:"tawk-padding"},Ma={class:"tawk-margin-bottom"},Sa={key:2,class:"tawk-margin-medium"},Na={key:1},Ta={key:0},Ia={class:"tawk-flex-none"},La={class:"tawk-padding tawk-flex tawk-flex-column tawk-width-100 tawk-text-regular-2"},Aa={class:"tawk-text-bold-1"},Pa={key:1,class:"tawk-padding-medium-horizontal tawk-padding-bottom"},Ea={key:2,class:"tawk-flex tawk-flex-middle tawk-padding-medium-horizontal"},Va={class:"tawk-padding"},Ra={class:"tawk-margin-bottom"},qa=gt({__name:"global-search",setup(t){const e=_t(),r=oe(),s=St("_");M();const c=M(""),d=M(!1),b=M("all"),C=M(!1),u=M({inbox:{subSearch:[{id:"chats",label:"Chats",hits:[],total:0,hasNext:!1,next:null,isLoading:!1},{id:"tickets",label:"Tickets",hits:[],total:0,hasNext:!1,next:null,isLoading:!1}]},contacts:{subSearch:[{id:"people",label:"People",hits:[],total:0,hasNext:!1,next:null,isLoading:!1},{id:"organizations",label:"Organizations",hits:[],total:0,hasNext:!1,next:null,isLoading:!1}]},groupChats:{isLoading:!1,hits:[],total:0,hasNext:!1,next:null},directMessages:{isLoading:!1,hits:[],total:0,hasNext:!1,next:null}}),q=[{icon:"inbox",value:"inbox",label:"Inbox"},{icon:"contacts",value:"contacts",label:"Contacts"},{icon:"group-chat",value:"groupChats",label:"Group Chats"},{icon:"active-chat",value:"directMessages",label:"Direct Messages"}],F=p(()=>e.getters["navigation/currentProperty"]);ut(c,()=>{s.debounce(()=>{Y(),A(),it(),I()},100)()});function D(){C.value=!0}function B(){C.value=!1}function h(N){b.value=N}function Y(){const N=c.value.toLowerCase().trim();if(N.length<3||u.value.groupChats.isLoading)return;u.value.groupChats.isLoading=!0;const x=e.getters["agentChats/allGroupChats"],H=[];for(let at=0;at<x.length;at++){const pt=x[at];pt.nameSearch.indexOf(N)!==-1&&H.push({id:pt.id,name:pt.name,icon:"group-chat"})}u.value.groupChats.isLoading=!1,u.value.groupChats.total=H.length,u.value.groupChats.hits=H.slice(0,5),u.value.groupChats.hasNext=H.length>5}function A(){const N=c.value.toLowerCase().trim();if(N.length<3||u.value.directMessages.isLoading)return;u.value.directMessages.isLoading=!0;const x=e.getters["agentChats/allDirectMessages"],H=[];for(let at=0;at<x.length;at++){const pt=x[at];pt.nameSearch.indexOf(N)!==-1&&H.push({id:pt.id,name:pt.name,agentId:pt.agentId,showAvatar:!0})}u.value.directMessages.isLoading=!1,u.value.directMessages.total=H.length,u.value.directMessages.hits=H.slice(0,5),u.value.directMessages.hasNext=H.length>5}function it(){const N=c.value.toLowerCase().trim();N.length<3||(e.commit("inbox/setSearchQuery",N),et(),m())}async function et(N){const x=s.find(u.value.inbox.subSearch,["id","chats"]);if(!x||x.isLoading)return;x.isLoading=!0,await e.dispatch("inbox/searchConversations",{type:"chats",loadMore:N});const H=s.map(e.getters["inbox/searchResults"].chats.hits,at=>({id:at._id,name:at.visitorName,email:at.visitorEmail}));x.hits=H,x.hasNext=x.hits.length<e.getters["inbox/searchResults"].chats.total,x.isLoading=!1}async function m(N){const x=s.find(u.value.inbox.subSearch,["id","tickets"]);if(!x||x.isLoading)return;x.isLoading=!0,await e.dispatch("inbox/searchConversations",{type:"tickets",loadMore:N});const H=s.map(e.getters["inbox/searchResults"].tickets.hits,at=>({id:at._id,name:at.requester.name,email:at.requester.email}));x.hits=H,x.hasNext=x.hits.length<e.getters["inbox/searchResults"].tickets.total,x.isLoading=!1}function I(){const N=c.value.toLowerCase().trim();N.length<3||(e.commit("contacts/setSearchQuery",N),S(),V())}async function S(N){const x=s.find(u.value.contacts.subSearch,["id","people"]);!x||x.isLoading||(x.isLoading=!0,await e.dispatch("contacts/searchContacts",{type:"people",propertyId:F.value,loadMore:N}),x.hits=e.getters["contacts/searchResults"].people.hits,x.hasNext=e.getters["contacts/searchResults"].people.hasNext,x.next=e.getters["contacts/searchResults"].people.next,x.isLoading=!1)}async function V(N){const x=s.find(u.value.contacts.subSearch,["id","organizations"]);!x||x.isLoading||(x.isLoading=!0,await e.dispatch("contacts/searchContacts",{type:"organizations",propertyId:F.value,loadMore:N}),x.hits=e.getters["contacts/searchResults"].organizations.hits,x.hasNext=e.getters["contacts/searchResults"].organizations.hasNext,x.next=e.getters["contacts/searchResults"].organizations.next,x.isLoading=!1)}function O(N){c.value="",r.push(`/${N.tab}/${F.value}/${N.sub}/${N.id}`)}function rt(){d.value=!0}function v(){d.value=!1,C.value=!1}function P(N,x){switch(b.value=N,x){case"chats":et(!0);break;case"tickets":m(!0);break;case"people":S(!0);break;case"organizations":V(!0);break}}return(N,x)=>{const H=R("tawk-icon"),at=R("tawk-search"),pt=R("tawk-avatar"),$=R("tawk-content-placeholder"),U=R("tawk-button"),nt=R("tawk-card");return a(),n("div",{id:"tawk-global-search",class:L(["tawk-margin-left",{hover:C.value||d.value}]),onMouseover:D,onMouseout:B},[o("div",ea,[l(H,{type:"search",size:"large"})]),o("div",aa,[l(at,{class:"tawk-flex-1 tawk-margin-bottom",style:{"max-width":"400px"},value:c.value,onInput:x[0]||(x[0]=E=>c.value=E),onFocus:rt,inputAttributes:{placeholder:"Search",format:"string",type:"text"}},{"input-prepend":k(()=>[l(H,{type:"search",class:"tawk-margin-right tawk-text-grey-2"})]),_:1},8,["value"])]),l(ne,{name:"slide-fade",mode:"out-in"},{default:k(()=>[d.value&&c.value.length?(a(),y(nt,{key:0,id:"tawk-global-search-result",class:"tawk-overflow-auto tawk-padding-remove"},{default:k(()=>[o("div",ia,[o("div",oa,[o("div",ra,[o("div",{class:L(["tawk-search-categories tawk-flex tawk-flex-middle tawk-margin-xsmall-bottom",{active:b.value==="all"}]),onClick:x[1]||(x[1]=E=>h("all"))},[l(H,{type:"category",class:"tawk-margin-right tawk-flex-none"}),o("span",na,w(N.$i18n("generic","all_text")),1)],2),(a(!0),n(Z,null,ot(q&&q.length?q:N.items,E=>(a(),n("div",{key:E.value,class:L(["tawk-search-categories tawk-flex tawk-flex-middle tawk-margin-xsmall-bottom",{active:b.value===E.value}]),onClick:J=>h(E.value)},[E.icon?(a(),y(H,{key:0,type:E.icon,class:"tawk-margin-right tawk-flex-none"},null,8,["type"])):g("",!0),o("span",sa,w(E.label),1)],10,la))),128))]),o("div",da,[b.value==="all"?(a(),n("div",ca,w(N.$i18n("generic","all_search_result")),1)):g("",!0),o("div",pa,[(a(!0),n(Z,null,ot(b.value==="all"?q:i(s).filter(q,{value:b.value}),E=>(a(),n("div",{key:E.value},[o("div",wa,[o("p",ua,w(E.label),1)]),u.value[E.value]?(a(),n("div",ka,[u.value[E.value].subSearch?(a(),n("div",ga,[(a(!0),n(Z,null,ot(u.value[E.value].subSearch,J=>(a(),n("div",{key:J.label},[o("p",ha,w(J.label),1),(a(!0),n(Z,null,ot(J.hits,dt=>(a(),n("div",{class:"tawk-search-item tawk-padding-medium-horizontal tawk-flex tawk-flex-middle",key:dt.id,onClick:vt=>O({id:dt.id,tab:E.value,sub:J.id})},[o("div",ba,[l(pt,{agentId:dt.agentId,avatarName:dt.name,avatarImage:dt.avatarImage,showName:!1,size:"24px",borderColor:"#ffffff"},null,8,["agentId","avatarName","avatarImage"])]),o("div",ma,[o("div",va,[l(i(Ft),{highlightStyle:{backgroundColor:"#FDF584",padding:0},query:c.value.trim()},{default:k(()=>[K(w(dt.name),1)]),_:2},1032,["query"])]),dt.email?(a(),y(i(Ft),{key:0,highlightStyle:{backgroundColor:"#FDF584",padding:0},query:c.value.trim()},{default:k(()=>[K(w(dt.email),1)]),_:2},1032,["query"])):g("",!0),dt.match?(a(),n("div",xa,[o("div",null,w(dt.match.field),1),dt.match.field?(a(),n("div",ya,"\u2022")):g("",!0),o("div",Ca,[l(i(Ft),{highlightStyle:{backgroundColor:"#FDF584",padding:0},query:c.value.trim()},{default:k(()=>[K(w(dt.match.value),1)]),_:2},1032,["query"])])])):g("",!0)])],8,fa))),128)),!J.isLoading&&!J.hits.length?(a(),n("div",_a,w(N.$i18n("conversations","no_results")),1)):g("",!0),J.isLoading?(a(),n("div",za,[l($,{width:"24px",height:"24px",radius:"4px"}),o("div",$a,[o("div",Ma,[l($,{width:"200px",height:"24px",radius:"4px"})]),l($,{width:"200px",height:"24px",radius:"4px"})])])):g("",!0),!J.isLoading&&J.hasNext?(a(),n("div",Sa,[l(U,{size:"small",class:"tawk-width-100",onClick:dt=>P(E.value,J.id)},{default:k(()=>[K(w(N.$i18n("generic","load_more")),1)]),_:2},1032,["onClick"])])):g("",!0)]))),128))])):(a(),n("div",Na,[u.value[E.value]&&u.value[E.value].hits&&u.value[E.value].hits.length?(a(),n("div",Ta,[(a(!0),n(Z,null,ot(u.value[E.value].hits,J=>(a(),n("div",{class:"tawk-search-item tawk-padding-medium-horizontal tawk-flex tawk-flex-middle",key:J.id},[o("div",Ia,[J.showAvatar?(a(),y(pt,{key:0,agentId:J.agentId,showName:!1},null,8,["agentId"])):g("",!0),J.icon?(a(),y(H,{key:1,type:J.icon},null,8,["type"])):g("",!0)]),o("div",La,[o("div",Aa,[l(i(Ft),{highlightStyle:{backgroundColor:"#FDF584",padding:0},query:c.value.trim()},{default:k(()=>[K(w(J.name),1)]),_:2},1032,["query"])])])]))),128))])):g("",!0),!u.value[E.value].isLoading&&u.value[E.value].hits&&!u.value[E.value].hits.length?(a(),n("div",Pa,w(N.$i18n("conversations","no_results")),1)):g("",!0),u.value[E.value].isLoading?(a(),n("div",Ea,[l($,{width:"24px",height:"24px",radius:"4px"}),o("div",Va,[o("div",Ra,[l($,{width:"200px",height:"24px",radius:"4px"})]),l($,{width:"200px",height:"24px",radius:"4px"})])])):g("",!0),!u.value[E.value].isLoading&&u.value[E.value].hasNext&&b.value==="all"?(a(),y(U,{key:3,size:"small",class:"load-btn tawk-margin",onClick:J=>P(E.value)},{default:k(()=>[K(w(N.$i18n("generic","load_more")),1)]),_:2},1032,["onClick"])):g("",!0)]))])):g("",!0)]))),128))])])])])]),_:1})):g("",!0)]),_:1}),d.value?(a(),n("div",{key:0,onClick:v,class:"search-backdrop"})):g("",!0)],34)}}});const Fa={id:"tawk-top-navigation",class:"tawk-flex tawk-flex-middle"},Ga={class:"tawk-flex tawk-flex-middle tawk-flex-center tawk-height-100 tawk-flex-1"},Oa={id:"tawk-property-view-nav",class:"tawk-padding tawk-flex tawk-flex-middle tawk-flex-center"},Ba={key:0,class:"tawk-badge-red"},Ha={class:"tawk-margin-auto-left tawk-padding tawk-flex tawk-flex-middle tawk-flex-center"},Da={key:0,class:"tawk-badge-red"},Ua=gt({__name:"top-navigation",setup(t){const e=_t(),r=St("i18n"),s=M(0),c=p(()=>e.getters["inbox/totalOpenConversations"]),d=p(()=>[{value:"monitoring",icon:"monitoring",label:r("monitoring","view_title"),count:s.value},{value:"chat",icon:"active-chat",label:r("sidebar","active_chats")}]),b=p(()=>{const u=[{value:"dashboard",icon:"home",label:r("dashboard","view_title"),path:`/dashboard/${C.value}`},{value:"inbox",icon:"inbox",label:r("inbox","view_title"),count:c.value,path:`/inbox/${C.value}`},{value:"contacts",icon:"contacts",label:r("contacts","view_title"),path:`/contacts/${C.value}`},{value:"knowledgebase",icon:"knowledge-base",label:r("knowledgebase","view_title"),path:`/knowledgebase/${C.value}`},{value:"reporting",icon:"reports",label:r("reporting","view_title"),path:`/reporting/${C.value}`},{value:"addon-store",icon:"addons",label:r("admin","add_on_title"),path:`/admin/${C.value}/addon-store`},{value:"admin",icon:"settings",label:r("admin","view_title"),path:`/admin/${C.value}`}];return Tawk.userController.user.isHiredAgent&&(u.push({value:"leaderboard",icon:"feather icon-award",label:"Leaderboard",path:`/leaderboard/${C.value}`}),u.push({value:"client-news",icon:"briefcase",label:"Client News",path:"https://af.tawk.link/",isExternal:!0})),u}),C=p(()=>e.getters["navigation/currentProperty"]);return Lt(()=>{window.emitter.on("totalVisitors",u=>{s.value=u}),ConversationMediator.loadAggregation()}),(u,q)=>{const F=R("tawk-icon"),D=R("router-link"),B=Nt("tawk-tooltip");return a(),n("div",Fa,[l(i(ta)),o("div",Ga,[o("div",Oa,[(a(!0),n(Z,null,ot(i(b),h=>tt((a(),y(me(u.isExternal?"a":"router-link"),{key:h.value,to:h.path,id:`tawk-${h.value}-nav`,href:h.path,target:h.isExternal?"_blank":"","active-class":"active",class:"tawk-top-navigation-item tawk-margin-xsmall-right","data-text":h.label},{default:k(()=>[l(F,{type:h.icon,class:L(h.icon),size:"large"},null,8,["type","class"]),h.count?(a(),n("b",Ba,w(h.count),1)):g("",!0)]),_:2},1032,["to","id","href","target","data-text"])),[[B]])),128))]),o("div",Ha,[(a(!0),n(Z,null,ot(i(d),h=>tt((a(),y(D,{key:h.value,to:`/${h.value}`,id:`tawk-${h.value}-nav`,"active-class":"active",class:"tawk-top-navigation-item tawk-margin-xsmall-right","data-text":h.label},{default:k(()=>[l(F,{type:h.icon,size:"large"},null,8,["type"]),h.count?(a(),n("b",Da,w(h.count),1)):g("",!0)]),_:2},1032,["to","id","data-text"])),[[B]])),128))])]),l(i(qa))])}}}),ja={class:"tawk-position-relative"},Wa={class:"tawk-margin-left tawk-margin-auto-right tawk-text-truncate tawk-text-uppercase tawk-text-regular-1 tawk-text-white tawk-flex-1"},Ka=["innerHTML"],Ya=["innerHTML"],Ja={key:0,class:"tawk-margin-left"},Xa={key:1,class:"fa fa-volume-control-phone",style:{"font-size":"16px",transform:"rotate(-45deg)"}},Qa={key:1,class:"tawk-flex-none tawk-margin-left",style:{width:"45px"}},Za=["innerHTML"],ti=["innerHTML"],ei={key:1,class:"tawk-text-truncate tawk-text-uppercase tawk-margin-top tawk-text-center",style:{"font-size":"10px",padding:"0 2px",background:"#4f4f4f","border-radius":"3px"}},ai={key:2,class:"tawk-chat-item-unseen-count"},Jt=gt({__name:"visitor-block",props:{chat:null,isMinified:{type:Boolean,default:!1}},setup(t){const e=t,r=mt(()=>bt(()=>import("./twk-visitor-hover.js"),["twk-visitor-hover.js","css/visitor-hover.css","twk-vendor.js","twk-main.js","css/main.css"])),s=_t(),c=M(!1),d=M(0),b=M(0),C=M(0),u=M(0),q=M(),F=p(()=>s.getters["agents/agentName"]),D=p(()=>s.getters["chatNavigation/visitorDetailsHoverEnabled"]),B=p(()=>e.chat.isChatRequest||e.chat.incomingCall);p(()=>e.chat.agentListVersion);const h=p(()=>/^V[0-9]{16}$/.test(e.chat.name)&&e.chat.ip&&e.chat.ip!=="0.0.0.0"?e.chat.ip:e.chat.name),Y=p(()=>e.chat.isFocused),A=p(()=>e.chat.status);p(()=>e.chat.ignore),ut(c,I=>{I&&it()});function it(){const I=q.value.getBoundingClientRect();d.value=I.left,b.value=I.top,C.value=I.width,u.value=I.height}function et(){window.LiveChatsMediator.openVisitorChat(e.chat)}function m(){window.Tawk.liveMonitoringController.ignoreChat(e.chat.id)}return(I,S)=>{var v;const V=R("tawk-icon"),O=R("tawk-button"),rt=Nt("tawk-tooltip");return a(),n("div",{ref_key:"root",ref:q,class:L(["tawk-chat-item tawk-padding tawk-padding-medium-horizontal tawk-margin-bottom",{focused:i(Y),"new-message":t.chat.unseenCount,unseen:i(B),"need-attn":i(B)||t.chat.unseenCount,"other-department":i(B)&&t.chat.anotherDepartment,ignored:t.chat.ignore}]),onMouseover:S[0]||(S[0]=P=>c.value=!0),onMouseleave:S[1]||(S[1]=P=>c.value=!1),onClick:et},[o("div",{class:L(["tawk-flex tawk-flex-middle tawk-chat-item-content",{"tawk-flex-center":t.isMinified}])},[o("div",ja,[o("span",{class:L(["flag-square tawk-flex-none tawk-flag",`flag-${(v=t.chat.countryCode)==null?void 0:v.toLowerCase()}`])},null,2),o("span",{class:L(["tawk-status-badge",i(A)])},null,2)]),t.isMinified?g("",!0):(a(),n(Z,{key:0},[o("div",Wa,[o("div",{class:"tawk-text-truncate",innerHTML:i(h)},null,8,Ka),t.chat.isChatRequest||t.chat.incomingCall?(a(),n("div",{key:0,class:"tawk-text-truncate",innerHTML:t.chat.propertyName},null,8,Ya)):g("",!0)]),t.chat.ongoingCall?(a(),n("div",Ja,[t.chat.incomingCall?(a(),y(V,{key:0,type:"call"})):(a(),n("i",Xa))])):g("",!0),t.chat.hasAgent?(a(),n("div",Qa,[o("span",{class:"tawk-text-truncate tawk-text-uppercase tawk-text-center",style:{"font-size":"10px",padding:"0 2px",background:"#4f4f4f","border-radius":"3px"},innerHTML:i(F)(t.chat.agentList[0])},null,8,Za),t.chat.agentList.length===2?(a(),n("span",{key:0,class:"tawk-text-truncate tawk-text-uppercase tawk-margin-top tawk-text-center",style:{"font-size":"10px",padding:"0 2px",background:"#4f4f4f","border-radius":"3px"},innerHTML:i(F)(t.chat.agentList[1])},null,8,ti)):g("",!0),t.chat.agentList.length>2?(a(),n("span",ei," + "+w(t.chat.agentList.length-1),1)):g("",!0)])):g("",!0),t.chat.unseenCount?(a(),n("div",ai,w(t.chat.unseenCount),1)):g("",!0),t.chat.isChatRequest?tt((a(),y(O,{key:3,isText:!0,class:"tawk-flex-none tawk-margin-left tawk-bg-hover-grey-transparent tawk-padding-xsmall","data-text":t.chat.ignore?"Unignore chat request":"Ignore chat request",onClick:Xt(m,["stop"])},{default:k(()=>[l(V,{type:"ignore",class:"tawk-text-white"})]),_:1},8,["data-text","onClick"])),[[rt]]):g("",!0)],64))],2),i(D)&&c.value?(a(),y(i(r),{key:0,visitor:t.chat,isMinified:t.isMinified,parentXOffset:d.value,parentYOffset:b.value,parentWidth:C.value,parentHeight:u.value},null,8,["visitor","isMinified","parentXOffset","parentYOffset","parentWidth","parentHeight"])):g("",!0)],34)}}}),ii={class:"tawk-flex-1 tawk-text-truncate tawk-margin-right tawk-navigation-property-name"},oi={class:"tawk-margin-auto-left tawk-flex-none"},ri={class:"tawk-margin-top"},ni=gt({__name:"property-block",props:{propertyChat:null,isMinified:{type:Boolean}},setup(t){const e=t,r=_t(),s=M(!1),c=p(()=>r.getters["chatNavigation/showAllVisitorChats"]),d=p(()=>c.value?e.propertyChat.chats:_.filter(e.propertyChat.chats,b=>{if(b.agentList&&b.agentList.indexOf(window.Tawk.userController.user.id)!==-1)return!0}));return(b,C)=>{const u=R("tawk-button"),q=Nt("tawk-tooltip");return i(d).length?(a(),n("div",{key:0,class:L(["tawk-margin-bottom",{minified:t.isMinified}])},[tt((a(),y(u,{isText:!0,class:L(["tawk-flex tawk-flex-middle tawk-text-bold-1 tawk-width-100 tawk-text-left",[s.value?"tawk-text-grey-2":"tawk-text-white"]]),onClick:C[0]||(C[0]=F=>s.value=!s.value),"data-text":t.isMinified?t.propertyChat.propertyName:null,style:{"line-height":"normal"}},{default:k(()=>[o("p",ii,w(t.propertyChat.propertyName),1),o("p",oi,w(t.propertyChat.chats.length),1)]),_:1},8,["class","data-text"])),[[q,{position:"right"}]]),tt(o("div",ri,[(a(!0),n(Z,null,ot(i(d),F=>(a(),y(i(Jt),{key:`nav-${F.id}`,chat:F,isMinified:t.isMinified},null,8,["chat","isMinified"]))),128))],512),[[Ct,!s.value]])],2)):g("",!0)}}}),li=["data-text"],Gt=gt({__name:"group-chat-block",props:{groupChat:null,isMinified:{type:Boolean}},setup(t){const e=t,r=p(()=>e.groupChat.unSeen&&!e.groupChat.isResolved);return(s,c)=>{const d=R("tawk-icon"),b=R("tawk-button"),C=Nt("tawk-tooltip");return tt((a(),n("div",{class:L(["tawk-chat-item tawk-margin-bottom",{focused:t.groupChat.isFocused,unseen:i(r),"tawk-padding":!t.isMinified,"new-message":t.groupChat.hasNewMessage,"need-attn":t.groupChat.hasNewMessage||i(r),minified:t.isMinified}]),"data-text":t.isMinified?t.groupChat.name:null,onClick:c[1]||(c[1]=u=>s.$emit("click"))},[o("div",{class:L(["tawk-flex tawk-flex-middle",{"tawk-flex-center":t.isMinified}])},[t.isMinified?g("",!0):(a(),y(d,{key:0,type:"group-chat",class:"tawk-margin-right"})),o("span",{class:L(["tawk-text-truncate tawk-navigation-chat-name",{"tawk-margin-right":!t.isMinified}])},w(t.groupChat.name),3),t.isMinified?g("",!0):tt((a(),y(b,{key:1,class:L(["tawk-chat-item-unpin tawk-margin-auto-left tawk-padding-xsmall",[t.groupChat.pin?"tawk-chat-item-unpin":"tawk-chat-item-pin"]]),isText:!0,"data-text":t.groupChat.pin?"Unpin chat":"Pin chat",onClick:c[0]||(c[0]=u=>s.$emit("togglePin"))},{default:k(()=>[l(d,{size:"small",type:" feather icon-star",class:L([t.groupChat.pin?"tawk-text-white":"tawk-text-grey-2"])},null,8,["class"])]),_:1},8,["class","data-text"])),[[C]])],2)],10,li)),[[C,{position:"right"}]])}}}),si=["data-text"],Wt=gt({__name:"direct-chat-block",props:{directMessage:null,isMinified:{type:Boolean}},setup(t){return(e,r)=>{const s=R("tawk-avatar"),c=R("tawk-icon"),d=R("tawk-button"),b=Nt("tawk-tooltip");return tt((a(),n("div",{class:L(["tawk-chat-item tawk-padding tawk-margin-bottom",{focused:t.directMessage.isFocused,unseen:t.directMessage.unSeen,"tawk-padding-remove":t.isMinified,"new-message":t.directMessage.hasNewMessage,"need-attn":t.directMessage.hasNewMessage||t.directMessage.unSeen}]),onClick:r[1]||(r[1]=C=>e.$emit("click")),"data-text":t.isMinified?t.directMessage.name:""},[o("div",{class:L(["tawk-flex tawk-flex-middle",{"tawk-flex-center":t.isMinified}])},[l(s,{agentId:t.directMessage.agentId,showName:!1,showStatus:!0,size:"20px",borderColor:"#242424",class:"tawk-flex-none"},null,8,["agentId"]),tt(o("span",{class:"tawk-margin-left tawk-margin-right tawk-text-truncate"},w(t.directMessage.name),513),[[Ct,!t.isMinified]]),tt((a(),y(d,{class:L(["tawk-margin-auto-left tawk-padding-xsmall",[t.directMessage.pin?"tawk-chat-item-unpin":"tawk-chat-item-pin"]]),isText:!0,"data-text":t.directMessage.pin?"Unpin chat":"Pin chat",onClick:r[0]||(r[0]=C=>e.$emit("togglePin"))},{default:k(()=>[l(c,{size:"small",type:" feather icon-star",class:L([t.directMessage.pin?"tawk-text-white":"tawk-text-grey-2"])},null,8,["class"])]),_:1},8,["class","data-text"])),[[Ct,!t.isMinified],[b]])],2)],10,si)),[[b,{position:"right"}]])}}});const di={id:"tawk-account-settings",class:"tawk-position-relative",ref:"root"},ci={class:"tawk-margin-left tawk-text-left"},pi={class:"tawk-text-regular-2"},wi={class:"tawk-text-regular-1 tawk-text-grey-2"},ui=o("div",{class:"tawk-dropdown-divider"},null,-1),ki={class:"tawk-margin-right tawk-margin-left status-text"},gi={class:"tawk-margin-right"},hi={class:"tawk-margin-right"},fi=o("div",{class:"tawk-dropdown-divider"},null,-1),bi={class:"tawk-flex tawk-flex-middle tawk-padding-medium"},mi={class:"tawk-text-truncate tawk-flex-1 tawk-margin-right tawk-text-left"},vi={class:"tawk-checkbox-block tawk-margin-auto-left"},xi={class:"tawk-checkbox-container tawk-switch tawk-flex tawk-flex-middle"},yi=o("span",{class:"tawk-slider"},null,-1),Ci={class:"tawk-flex tawk-flex-middle tawk-padding-medium"},_i={class:"tawk-text-truncate tawk-flex-1 tawk-margin-right tawk-text-left"},zi={class:"tawk-checkbox-block tawk-margin-auto-left"},$i={class:"tawk-checkbox-container tawk-switch tawk-flex tawk-flex-middle"},Mi=o("span",{class:"tawk-slider"},null,-1),Si=o("div",{class:"tawk-dropdown-divider"},null,-1),Ni=o("div",{class:"tawk-dropdown-divider"},null,-1),Ti={class:"tawk-margin-right tawk-text-capitalize"},Ii=o("div",{class:"tawk-dropdown-divider"},null,-1),Li=o("span",{class:"status-online tawk-margin-right"},null,-1),Ai={class:"status-text"},Pi=o("span",{class:"status-away tawk-margin-right"},null,-1),Ei={class:"status-text"},Vi=o("span",{class:"status-invisible tawk-margin-right"},null,-1),Ri={class:"status-text"},qi={class:"tawk-text-truncate tawk-flex-1 tawk-text-left"},Fi={class:"tawk-checkbox-block"},Gi={class:"tawk-checkbox-container tawk-switch tawk-flex tawk-flex-middle"},Oi=["name","checked"],Bi=o("span",{class:"tawk-slider"},null,-1),Hi=gt({__name:"profile-menu",props:{isMinified:{type:Boolean,default:!1}},setup(t,{expose:e}){const r=St("i18n"),s=yt({}),c=yt([]),d=M(null),b=M(null),C=M(null),u=M(-1),q=M(!1),F=M(!1),D=M(!1),B=M(!1),h=M(""),Y=M(""),A=M(""),it=M(!1),et=M(null),m=M("statusOption"),I=M("propertiesOption"),S=M("languageOption"),V={statusOption:m,propertiesOption:I,languageOption:S},O=`${window.BASEPATH}/logout`;let rt=null,v=null;const P=p(()=>store.getters["agents/userAgent"]),N=p(()=>JSON.parse(window.AGENT_LANGUAGES.replace(/&quot;/g,'"'))),x=p(()=>_.find(N.value,["code",C.value])||{});p(()=>window.notificationController.hasDesktopNotificationFeature());const H=p(()=>store.getters["properties/properties"]);ut(s,()=>{pt(),$(),U()},{deep:!0,immediate:!0}),ut(H.value,T=>{const G=[];for(let ct=0;ct<T.length;ct++){const j=T[ct];G.push({id:j.id,propertyName:j.propertyName,enabled:j.enabled,isAdmin:j.isAdmin,isClientProperty:j.isClientProperty,isStatusEnabled:j.isStatusEnabled})}c.clear(),c.push(..._.filter(G,ct=>ct.enabled&&!ct.isClientProperty))},{deep:!0});function at(){C.value=window.Tawk.userController.localeCode}function pt(){switch(window.Tawk.userController.user.status){case"o":b.value="online";break;case"a":b.value="away";break;case"i":b.value="invisible";break}b.value&&(rt=b.value)}function $(){F.value=window.Tawk.userController.desktopNotificationEnabled}function U(){D.value=window.Tawk.userController.soundNotificationEnabled}function nt(T){T!=="invisible"&&(rt=T),window.Tawk.visitorChatController.hasJoinedConversation()&&T==="invisible"&&(window.checkAndSetAlertBoxView(r("action_messages","attention"),r("action_messages","status_invisible_in_chat")),rt!=="invisible"&&(window.Tawk.userController.user.status=rt[0],pt())),window.Tawk.userController.changeStatus(T,()=>{pt()}),it.value=!1}function E(T,G){u.value>-1||(u.value=G,q.value=!1,store.dispatch("properties/updatePageStatus",{propertyId:T.id,isEnabled:!T.isStatusEnabled,callback:ct=>{if(ct){q.value=!0;return}c[G].isStatusEnabled=!T.isStatusEnabled,u.value=-1,q.value=!1}}))}function J(){window.Tawk.userController.toggleDesktopNotification(F.value,null,T=>{F.value=T})}function dt(){window.Tawk.userController.toggleSoundNotification(D.value)}function vt(T){window.Tawk.userController.localeCode!==T&&_.find(N.value,["code",T])!==null&&window.Tawk.userController.changeLanguage(T,G=>{G||(window.setLocaleCookie(T),window.location.href="/?lang="+T)})}function W(T){if(!["account","partners"].includes(T))return;const j=window.Tawk.routing.getPath().propertyId||d.value;window.Tawk.routing.changeRoute({view:T,_propertyId:j}),ht()}function Tt(){const T=window.Tawk.ClientPropertiesView.create({closeCallback:()=>{T&&typeof T.destroy=="function"&&T.destroy()}});T.append(),ht()}function Et(){const T=window.Tawk.SoundSettingView.create({closeCallback:()=>{T&&typeof T.destroy=="function"&&T.destroy()}});T.append(),ht()}function Vt(){const T=window.Tawk.BrowserAppSessionsView.create({closeCallback:()=>{T&&typeof T.destroy=="function"&&T.destroy()}});T.append(),ht()}function Ht(){v===null||v.closed?v=window.open("https://tawk.to/chat/521727297ca1334016000005/18nms7gql","","width=450, height=500"):v.focus(),window.Tawk.intercomController.execute("trackEvent",{eventType:"started-support-chat"}),ht()}function Dt(){window.open("https://help.tawk.to/","_blank").focus(),ht()}function At(){window.socketConnector.killConnection=!0,window.socketConnector.socket.disconnect(),window.location.href=O}function It(T){if(!V[T]||!V[T].value||!V[T].value.$el)return;const ct=V[T].value.$el.getBoundingClientRect(),j=getComputedStyle(document.body).direction==="rtl";et.value===T?it.value=!it.value:it.value=!0,et.value=T,h.value=`${ct.top}px`,j?A.value=`${ct.width+16}px`:Y.value=`${ct.left+ct.width}px`}function ht(){B.value=!1,it.value=!1}return e({focusOut:ht}),Lt(()=>{var T,G,ct;at(),Object.assign(s,window.Tawk.userController.user),d.value=(ct=(G=(T=window.Tawk)==null?void 0:T.topNavigationView)==null?void 0:G.selectedProperty)==null?void 0:ct.id,window.emitter.on("onPropertyChange",j=>{d.value=j}),window.emitter.on("onUserDataChange",()=>{Object.assign(s,window.Tawk.userController.user)}),window.emitter.on("localeCodeChangedEvent",at)}),le(()=>{window.emitter.off("localeCodeChangedEvent",at)}),(T,G)=>{const ct=R("tawk-avatar"),j=R("tawk-button"),ft=R("tawk-icon"),xt=R("tawk-card"),Rt=R("tawk-submit-loader"),Ut=Nt("tawk-click-out");return tt((a(),n("div",di,[l(j,{class:L(["tawk-profile-image-container tawk-width-100",t.isMinified?"minify":""]),isText:!0,onClick:G[0]||(G[0]=lt=>B.value=!B.value)},{default:k(()=>[i(P)?(a(),y(ct,{key:0,agentId:i(P).id,showName:!1,showStatus:!0,size:"32px",borderColor:"#333333"},null,8,["agentId"])):g("",!0)]),_:1},8,["class"]),l(ne,{name:"slide-fade"},{default:k(()=>[B.value?(a(),y(xt,{key:0,id:"tawk-profile-navigation-container",class:"tawk-text-grey-1 tawk-padding"},{default:k(()=>[l(j,{isText:!0,class:"tawk-flex tawk-flex-middle tawk-padding tawk-width-100 tawk-bg-hover-grey-4",onClick:G[1]||(G[1]=lt=>W("account"))},{default:k(()=>[l(ct,{agentId:i(P).id,showName:!1,showStatus:!0,size:"40px",borderColor:"#ffffff",class:"tawk-flex-none"},null,8,["agentId"]),o("div",ci,[o("div",pi,w(s.fullName),1),o("div",wi,w(i(r)("generic","edit_profile")),1)])]),_:1}),ui,l(j,{ref_key:"statusOption",ref:m,isText:!0,class:"tawk-padding-medium tawk-flex tawk-flex-middle tawk-width-100 tawk-bg-hover-grey-4",onClick:G[2]||(G[2]=lt=>It("statusOption"))},{default:k(()=>[o("span",{class:L(`status-${b.value}`)},null,2),o("div",ki,w(i(r)("status_types",b.value)),1),l(ft,{type:"more-vertical",class:"tawk-margin-auto-left"})]),_:1},512),l(j,{ref_key:"propertiesOption",ref:I,isText:!0,class:"tawk-padding-medium tawk-flex tawk-flex-middle tawk-width-100 tawk-bg-hover-grey-4",onClick:G[3]||(G[3]=lt=>It("propertiesOption"))},{default:k(()=>[o("div",gi,w(i(r)("header","accept_chats_from")),1),l(ft,{type:"more-vertical",class:"tawk-margin-auto-left"})]),_:1},512),s.isHiredAgent?(a(),y(j,{key:0,isText:!0,class:"tawk-padding-medium tawk-flex tawk-flex-middle tawk-width-100 tawk-bg-hover-grey-4",onClick:Tt},{default:k(()=>[o("div",hi,w(i(r)("generic","client_properties")),1),l(ft,{type:"more-vertical",class:"tawk-margin-auto-left"})]),_:1})):g("",!0),fi,o("div",bi,[o("div",mi,w(i(r)("header","desktop_notifications")),1),o("div",vi,[o("label",xi,[tt(o("input",{type:"checkbox",class:"tawk-checkbox",ref:"desktopNotificationToggle",name:"desktopNotificationToggle","onUpdate:modelValue":G[4]||(G[4]=lt=>F.value=lt),onChange:J},null,544),[[ae,F.value]]),yi])])]),o("div",Ci,[o("div",_i,w(i(r)("header","sound_notifications")),1),o("div",zi,[o("label",$i,[tt(o("input",{type:"checkbox",class:"tawk-checkbox",ref:"soundNotificationToggle",name:"soundNotificationToggle","onUpdate:modelValue":G[5]||(G[5]=lt=>D.value=lt),onChange:dt},null,544),[[ae,D.value]]),Mi])])]),l(j,{isText:!0,class:"tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4 tawk-text-left",onClick:Et},{default:k(()=>[K(w(i(r)("sound_settings","manage_sounds_notifications")),1)]),_:1}),Si,l(j,{isText:!0,class:"tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4 tawk-text-left",onClick:Vt},{default:k(()=>[K(w(i(r)("header","browser_app_sessions")),1)]),_:1}),Ni,l(j,{isText:!0,class:"tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4 tawk-text-left",onClick:G[6]||(G[6]=lt=>W("partners"))},{default:k(()=>[K(w(i(r)("partners","view_title")),1)]),_:1}),l(j,{isText:!0,class:"tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4 tawk-text-left",onClick:Ht},{default:k(()=>[K(w(i(r)("header","help")),1)]),_:1}),l(j,{isText:!0,class:"tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4 tawk-text-left",onClick:Dt},{default:k(()=>[K(w(i(r)("header","help_center")),1)]),_:1}),l(j,{ref_key:"languageOption",ref:S,isText:!0,class:"tawk-padding-medium tawk-flex tawk-flex-middle tawk-width-100 tawk-bg-hover-grey-4",onClick:G[7]||(G[7]=lt=>It("languageOption"))},{default:k(()=>[o("div",Ti,w(i(x).title),1),l(ft,{type:"more-vertical",class:"tawk-margin-auto-left"})]),_:1},512),Ii,l(j,{isText:!0,class:"tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4 tawk-text-left",onClick:At},{default:k(()=>[K(w(i(r)("header","logout")),1)]),_:1})]),_:1})):g("",!0)]),_:1}),it.value&&et.value==="statusOption"?(a(),y(xt,{key:0,class:"tawk-padding-vertical inner-selection-container",style:Mt({top:h.value,left:Y.value,right:A.value})},{default:k(()=>[l(j,{isText:!0,class:"tawk-flex tawk-flex-middle tawk-text-truncate tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4",onClick:G[8]||(G[8]=lt=>nt("online"))},{default:k(()=>[Li,o("span",Ai,w(i(r)("status_types","online")),1)]),_:1}),l(j,{isText:!0,class:"tawk-flex tawk-flex-middle tawk-text-truncate tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4",onClick:G[9]||(G[9]=lt=>nt("away"))},{default:k(()=>[Pi,o("span",Ei,w(i(r)("status_types","away")),1)]),_:1}),l(j,{isText:!0,class:"tawk-flex tawk-flex-middle tawk-text-truncate tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4",onClick:G[10]||(G[10]=lt=>nt("invisible"))},{default:k(()=>[Vi,o("span",Ri,w(i(r)("status_types","invisible")),1)]),_:1})]),_:1},8,["style"])):g("",!0),it.value&&et.value==="languageOption"?(a(),y(xt,{key:1,class:"tawk-padding-vertical inner-selection-container",style:Mt({bottom:`calc(100% - ${h.value} - 48px)`,left:Y.value,right:A.value,"max-height":h.value,"max-width":"320px"})},{default:k(()=>[(a(!0),n(Z,null,ot(i(N),lt=>(a(),y(j,{key:lt.code,isText:!0,class:"tawk-text-truncate tawk-padding-medium tawk-width-100 tawk-bg-hover-grey-4 tawk-text-capitalize tawk-text-left",onClick:Pt=>vt(lt.code)},{default:k(()=>[K(w(lt.title),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["style"])):g("",!0),it.value&&et.value==="propertiesOption"?(a(),y(xt,{key:2,class:"tawk-padding-vertical inner-selection-container",style:Mt({top:h.value,left:Y.value,right:A.value,"max-height":`calc(100% - ${h.value} - 24px)`,"max-width":"320px"})},{default:k(()=>[(a(!0),n(Z,null,ot(c,(lt,Pt)=>(a(),y(j,{key:lt.id,isText:!0,class:"tawk-text-truncate tawk-padding tawk-padding-medium-horizontal tawk-width-100 tawk-bg-hover-grey-4 tawk-flex tawk-flex-middle",onClick:Qt=>E(lt,Pt),style:{"min-height":"40px"}},{default:k(()=>[o("div",qi,w(lt.propertyName),1),u.value.value===Pt?(a(),y(Rt,{key:0,class:"tawk-margin-left tawk-margin-right",error:q.value,message:i(r)("tooltip","status_update_fail"),size:"xsmall"},null,8,["error","message"])):g("",!0),o("div",Fi,[o("label",Gi,[o("input",{disabled:"",type:"checkbox",class:"tawk-checkbox",ref_for:!0,ref:lt.propertyName,name:lt.propertyName,checked:lt.isStatusEnabled},null,8,Oi),Bi])])]),_:2},1032,["onClick"]))),128))]),_:1},8,["style"])):g("",!0)])),[[Ut]])}}});const Di=o("i",{class:"tawk-notification-icon twk icon-bell"},null,-1),Ui={key:0,class:"tawk-notification-badge badge"},ji={class:"tawk-dropdown-list-item tawk-notification-group-header tawk-flex"},Wi={class:"tawk-flex-1"},Ki={class:"content"},Yi=o("div",{class:"graphic pull-left"},[o("i",{class:"twk icon-user"})],-1),Ji={class:"text p-0 pl-5"},Xi=o("i",{class:"twk icon-ban"},null,-1),Qi=K("\xA0"),Zi={class:"button-container text-right"},to=o("i",{class:"twk icon-close"},null,-1),eo={class:"tawk-dropdown-list-item tawk-notification-group-header tawk-flex"},ao={class:"tawk-flex-1"},io=["onClick"],oo={key:0,class:"new-label",style:{position:"relative",top:"4px",right:"10px"}},ro=["innerHTML"],no={class:"content pr-3"},lo={class:"graphic pull-left"},so=["src"],co=["innerHTML"],po={key:0,class:"button-container text-right"},wo=o("i",{class:"feather icon-check-circle"},null,-1),uo=gt({__name:"notifications-menu",props:{isMinified:{type:Boolean,default:!1}},setup(t){const e=t,r=St("_"),s=St("i18n"),c=yt([]),d=yt([]),b=p(()=>`tawk-notification-button-container tawk-text-grey-2 tawk-hover-white tawk-flex-center tawk-padding ${e.isMinified?"minify":[]}`),C=p(()=>{let m=0;return c.forEach(I=>{I.seen||m++}),m}),u=p(()=>{let m=0;return d.length&&(m+=d.length),m+=C.value,m});function q(){c.clear(),c.push(...r.map(window.Tawk.userController.notifications,m=>r.cloneDeep(m)))}function F(){d.clear(),d.push(...r.map(window.Tawk.invitationsController.invitations,m=>({...r.cloneDeep(m),loading:!1,error:!1,errorMessage:null})))}function D(m){window.Tawk.userController.setNotificationSeen(m)}function B(){c.forEach(m=>{window.Tawk.userController.setNotificationSeen(m.id)})}function h(m){r.isEmpty(m)||(m.linkTo.type=="internal"?window.location.hash=m.linkTo.link:m.linkTo.type=="external"&&window.open(m.linkTo.link),D(m.id))}function Y(m,I){const S=r.find(d,["id",m]);!S||(S.error=!1,S.errorMessage=null,S.loading=!0,window.Tawk.invitationsController.acceptInvitation(m,V=>{V&&(S.loading=!1,S.error=!0,S.errorMessage=s("form_validation_messages","accept_error")),I&&I()}))}function A(m,I){const S=r.find(d,["id",m]);!S||(S.error=!1,S.errorMessage=null,S.loading=!0,window.Tawk.invitationsController.rejectInvitation(m,V=>{V&&(S.loading=!1,S.error=!0,S.errorMessage=s("form_validation_messages","reject_error")),I&&I()}))}async function it(){if(!(d!=null&&d.length))return;const m=r.map(d,I=>new Promise(S=>Y(I.id,S)));await Promise.all(m)}async function et(){if(!(d!=null&&d.length))return;const m=r.map(d,I=>new Promise(S=>A(I.id,S)));await Promise.all(m)}return Lt(()=>{q(),F(),window.emitter.on("notificationsChangedEvent",q),window.emitter.on("seenNotificationsChangedEvent",q),window.emitter.on("invitationsChangedEvent",F)}),le(()=>{window.emitter.off("notificationsChangedEvent",q),window.emitter.off("seenNotificationsChangedEvent",F),window.emitter.off("invitationsChangedEvent",q)}),(m,I)=>{const S=R("tawk-button"),V=R("tawk-dropdown");return a(),y(V,{hasSearch:!1,hasAll:!1,showSelected:!1,showCaret:!1,items:[],disableHighlights:!1,isFixed:!0,noMaxWidth:!0,isBorderLess:!0,buttonClass:i(b),listIcon:"bell",dropdownMenuClass:"tawk-notification-dropdown-menu",dropdownListClass:"tawk-notification-body"},{dropdownButtonContent:k(()=>[Di,i(u)>0?(a(),n("b",Ui,w(i(u)),1)):g("",!0)]),dropdownList:k(()=>[d&&d.length?(a(),n(Z,{key:0},[o("li",ji,[o("b",Wi,w(i(s)("admin","invitations"))+" ("+w(d.length)+")",1),l(S,{class:"tawk-text-green-1",type:"primary",size:"xsmall",isText:!0,onClick:it},{default:k(()=>[K(w(i(s)("admin","accept_all")),1)]),_:1}),l(S,{class:"tawk-text-green-1",type:"primary",size:"xsmall",isText:!0,onClick:et},{default:k(()=>[K(w(i(s)("admin","reject_all")),1)]),_:1})]),(a(!0),n(Z,null,ot(d,O=>(a(),n("li",{key:O.id,class:"tawk-dropdown-list-item tawk-notification-invite"},[o("span",null,[o("div",Ki,[Yi,o("div",Ji,[K(w(i(s)("header","invitation",{propertyName:O.propertyName,inviterName:O.inviterName}))+" ",1),o("p",{class:L(["error-message",O.error?"":"hidden"])},[Xi,Qi,o("em",null,w(O.errorMessage),1)],2)])]),o("span",Zi,[l(S,{class:"tawk-margin-xsmall-right",type:"primary",size:"xsmall",onClick:rt=>Y(O.id)},{default:k(()=>[K(w(i(s)("buttons","accept")),1)]),_:2},1032,["onClick"]),l(S,{type:"danger",size:"xsmall",isIconOnly:!0,onClick:rt=>A(O.id)},{default:k(()=>[to]),_:2},1032,["onClick"])])])]))),128))],64)):g("",!0),o("li",eo,[o("b",ao,w(i(s)("header","notifications"))+" ("+w(i(C))+")",1),l(S,{class:"tawk-text-green-1",type:"primary",size:"xsmall",isText:!0,onClick:I[0]||(I[0]=O=>B())},{default:k(()=>[K(w(i(s)("header","mark_seen")),1)]),_:1})]),(a(!0),n(Z,null,ot(c,O=>(a(),n("li",{key:O.id,class:"tawk-dropdown-list-item tawk-notification",onClick:rt=>h(O)},[o("span",null,[o("div",null,[O.new?(a(),n("div",oo,"\xA0")):g("",!0),o("p",{class:"title",innerHTML:O.title},null,8,ro)]),o("div",no,[o("div",lo,[o("img",{src:O.image,width:"80"},null,8,so)]),o("div",{class:"text pl-9",innerHTML:O.description},null,8,co)]),O.seen?g("",!0):(a(),n("span",po,[l(S,{size:"small",isIconOnly:!0,onClick:Xt(rt=>D(O.id),["stop"])},{default:k(()=>[wo]),_:2},1032,["onClick"])]))])],8,io))),128))]),_:1},8,["buttonClass"])}}});const ko={class:"tawk-flex tawk-flex-column tawk-width-100 tawk-height-100"},go={class:"tawk-padding tawk-flex tawk-flex-middle",style:{height:"62px"}},ho={class:"tawk-overflow-hidden tawk-flex tawk-flex-column tawk-flex-1"},fo={class:"tawk-padding-bottom tawk-flex-1 tawk-min-height-0 tawk-flex tawk-flex-column"},bo={key:0,id:"tawk-navigation-incoming",class:"tawk-padding tawk-flex-none"},mo={class:"tawk-flex tawk-flex-middle tawk-text-white tawk-margin-bottom"},vo={class:"tawk-margin-auto-left"},xo={key:0,class:"tawk-text-center"},yo={class:"tawk-text-bold-1 tawk-text-white"},Co={key:1},_o={key:0},zo={key:0},$o={key:0},Mo=["onClick"],So={class:"tawk-flex-1 tawk-text-truncate tawk-margin-right"},No={class:"tawk-margin-auto-left"},To={key:1},Io={key:0,class:"tawk-text-center",style:{top:"62pxpx",position:"absolute",width:"100%","z-index":"1"}},Lo=K(" Unseen "),Ao={key:0},Po={class:"tawk-dropdown-item tawk-flex tawk-flex-middle"},Eo={class:"tawk-dropdown-item tawk-flex tawk-flex-middle"},Vo={class:"tawk-dropdown-list-item tawk-border-default-top tawk-padding"},Ro={key:1,class:"tawk-flex tawk-flex-middle tawk-margin-medium-bottom tawk-position-relative"},qo={class:"tawk-margin-top"},Fo={key:0,class:"tawk-flex tawk-flex-middle"},Go={key:1,class:"tawk-text-center"},Oo={key:0},Bo={key:1,class:"tawk-text-grey-2 tawk-padding"},Ho={key:2},Do={key:0},Uo={class:"tawk-dropdown-item tawk-flex tawk-flex-middle"},jo={class:"tawk-dropdown-list-item tawk-border-default-top tawk-padding"},Wo={key:1,class:"tawk-flex tawk-flex-middle tawk-margin-medium-bottom tawk-position-relative"},Ko={class:"tawk-margin-top"},Yo={key:0,class:"tawk-flex tawk-flex-middle"},Jo={key:1,class:"tawk-text-center"},Xo={key:0},Qo={key:1,class:"tawk-text-grey-2 tawk-padding"},Zo={key:2},tr=K(" Unseen "),er=gt({__name:"side-navigation",setup(t){const e=_t(),r=St("_"),s=yt([]),c=M(!1),d=M(!1),b=M(null),C=yt([]),u=M(!1),q=M(!1),F=M(null),D=M(null),B=M(null),h=M(!1),Y=M(),A=M(!1),it=p(()=>e.getters["agentChats/isLoading"]),et=p(()=>e.getters["agents/isLoaded"]);p(()=>e.getters["agentChats/isLoaded"]);const m=p(()=>e.getters["chatNavigation/directMessages"]),I=p(()=>e.getters["chatNavigation/groupChats"]),S=p(()=>e.getters["agentChats/ownDM"]),V=p(()=>e.getters["chatNavigation/chatRequests"]),O=p(()=>e.getters["chatNavigation/haChatRequests"]),rt=p(()=>e.getters["chatNavigation/propertyChats"]),v=p(()=>e.getters["chatNavigation/navigationMinified"]),P=p(()=>v.value&&!A.value),N=p(()=>e.getters["chatNavigation/groupViewInline"]),x=p(()=>e.getters["chatNavigation/directMessageInline"]),H=p(()=>e.getters["chatNavigation/groupIncomingRequests"]),at=p(()=>e.getters["chatNavigation/visitorDetailsHoverEnabled"]),pt=p(()=>e.getters["chatNavigation/showAllVisitorChats"]),$=p(()=>e.getters["chatNavigation/isHiredAgent"]),U=p(()=>r.filter(I.value,["unSeen",!0])),nt=p(()=>r.filter(I.value,["unSeen",!1])),E=p(()=>r.filter(nt.value,["pin",!0])),J=p(()=>r.filter(nt.value,["pin",!1])),dt=p(()=>e.getters["session/connected"]);ut(dt,f=>{f?G():(D.value=null,B.value=null)}),ut(et,()=>{G()});function vt(f){window.LiveChatsMediator.openGroupChat(f)}function W(f){window.LiveChatsMediator.openDirectMessage(f)}function Tt(){window.LiveChatsMediator.openOwnDM()}function Et(){window.LiveChatsMediator.toggleInlineGroupChat()}function Vt(){window.LiveChatsMediator.toggleDirectMessageInline()}function Ht(f){window.LiveChatsMediator.pinChat(f)}function Dt(f){window.LiveChatsMediator.unpinChat(f)}function At(){e.commit("chatNavigation/setNavigationMinified",!v.value),v.value?document.body.className+=" minified":document.body.className=document.body.className.replace(/minified/,"").trim()}function It(){jt(mt(()=>bt(()=>import("./twk-list4.js"),["twk-list4.js","css/list.css","twk-main.js","css/main.css","twk-vendor.js"])))}function ht(){jt(mt(()=>bt(()=>import("./twk-list5.js"),["twk-list5.js","css/list.css","twk-vendor.js"])))}function T(){jt(mt(()=>bt(()=>import("./twk-new-group.js"),["twk-new-group.js","css/new-group.css","twk-vendor.js"])))}async function G(){if(!dt.value||!et.value)return;const{ok:f}=await e.dispatch("agentChats/loadChats");f&&setTimeout(()=>{xt()},1e3/66)}function ct(f){b.value=f;let wt=[];if(f=f.toLowerCase(),f.length){s.clear(),d.value=!0,c.value=!0;const X=e.getters["agentChats/allGroupChats"];for(let Q=0;Q<X.length;Q++){const zt=X[Q];zt.nameSearch.indexOf(f)!==-1&&wt.push(zt)}wt.length&&s.push(...wt),c.value=!1}else c.value=!1,d.value=!1}function j(f){F.value=f;let wt=[];if(f=f.toLowerCase(),f.length){q.value=!0,u.value=!0,C.clear();const X=e.getters["agentChats/allDirectMessages"];for(let Q=0;Q<X.length;Q++){const zt=X[Q];zt.nameSearch.indexOf(f)!==-1&&wt.push(zt)}wt.length&&C.push(...wt),u.value=!1}else u.value=!1,q.value=!1}function ft(f){f.pin?Dt(f.id):Ht(f.id)}function xt(){const f=Y.value.querySelectorAll(".need-attn");if(f.length){const wt=f[0],X=f[f.length-1];X&&X.offsetTop>Y.value.scrollTop+Y.value.offsetHeight?B.value=X:B.value=null,wt&&wt.offsetTop+wt.clientHeight<Y.value.scrollTop?D.value=wt:D.value=null}else B.value=null,D.value=null}function Rt(f){f&&(Y.value.scrollTop=f.offsetTop,xt())}function Ut(){r.debounce(xt.bind(this),100)()}function lt(){window.LiveChatsMediator.openOldestVisitorChat()}function Pt(f){window.LiveChatsMediator.openFirstICRByProperty(f)}function Qt(){window.open("https://help.tawk.to/","_blank").focus()}function Zt(){window.innerWidth<=979&&!v.value?(h.value=!0,At()):window.innerWidth>979&&v.value&&(h.value=!1,At())}function ce(){window.Tawk.userController.toggleGroupIncomingList(!H.value)}function pe(){window.Tawk.userController.toggleVisitorDetailsHover(!at.value)}function we(){window.Tawk.userController.toggleSidebarChatlist(!pt.value)}function ue(){v.value&&(A.value=!0)}function ke(){v.value&&(A.value=!1)}return Lt(()=>{window.emitter.on("checkUnseen",r.debounce(xt.bind(this),100)),window.addEventListener("resize",r.debounce(Zt,100)),setTimeout(()=>{Zt()},100)}),(f,wt)=>{const X=R("tawk-icon"),Q=R("tawk-button"),zt=R("tawk-checkbox"),te=R("tawk-dropdown"),ee=R("tawk-input"),qt=R("tawk-content-placeholder"),$t=Nt("tawk-tooltip");return a(),n("div",{id:"tawk-live-chats-navigation",class:L(["tawk-flex-none",{expand:A.value}]),onMouseover:ue,onMouseleave:ke},[o("div",ko,[o("div",go,[i(P)?g("",!0):tt((a(),y(Q,{key:0,isText:!0,class:L(["tawk-margin-right tawk-bg-hover-green-1-transparent tawk-hover-green-1 tawk-padding",[i(H)?"tawk-text-green-1":"tawk-text-grey-2"]]),"data-text":i(H)?f.$i18n("tooltip","ungroup_icr"):f.$i18n("header","group_icr"),onClick:ce},{default:k(()=>[l(X,{type:"group-incoming-chats",size:"large"})]),_:1},8,["class","data-text"])),[[$t]]),i(P)?g("",!0):tt((a(),y(Q,{key:1,isText:!0,class:L(["tawk-margin-right tawk-bg-hover-green-1-transparent tawk-hover-green-1 tawk-padding",[i(at)?"tawk-text-grey-2":"tawk-text-green-1"]]),"data-text":i(at)?f.$i18n("tooltip","disable_visitor_hover"):f.$i18n("tooltip","enable_visitor_hover"),onClick:pe},{default:k(()=>[l(X,{type:"assigned",size:"large"})]),_:1},8,["class","data-text"])),[[$t]]),i(P)?g("",!0):tt((a(),y(Q,{key:2,isText:!0,class:L(["tawk-margin-right tawk-bg-hover-green-1-transparent tawk-hover-green-1 tawk-padding",[i(pt)?"tawk-text-grey-2":"tawk-text-green-1"]]),"data-text":i(pt)?f.$i18n("header","show_my_chats"):f.$i18n("tooltip","show_all_chats"),onClick:we},{default:k(()=>[l(X,{type:"filter",size:"large"})]),_:1},8,["class","data-text"])),[[$t]]),!h.value&&!i(P)?tt((a(),y(Q,{key:3,isText:!0,class:"tawk-margin-auto-left tawk-text-grey-2",iconOnly:!0,"data-text":h.value?"Expand chat list":"Collapse chat list",onClick:At},{default:k(()=>[l(X,{type:i(v)?"double-chevron-right":"double-chevron-left",size:"large"},null,8,["type"])]),_:1},8,["data-text"])),[[$t]]):g("",!0),i(P)?(a(),y(Q,{key:4,isText:!0,iconOnly:!0,class:"tawk-text-grey-2"},{default:k(()=>[l(X,{type:"menu",size:"large"})]),_:1})):g("",!0)]),o("div",ho,[o("div",fo,[i(V).length?(a(),n("div",bo,[o("div",mo,[o("p",null,w(f.$i18n("sidebar","incoming")),1),o("span",vo,w(i(V).length),1)]),i(H)?(a(),n("div",xo,[o("p",yo,w(f.$i18n("sidebar","incoming_pending",{num:i(V).length})),1),l(Q,{id:"tawk-navigation-open-oldest",class:"tawk-margin-top tawk-margin-auto",size:"small",onClick:lt},{default:k(()=>[K(w(f.$i18n("sidebar","open_next")),1)]),_:1})])):(a(),n("div",Co,[i($)?(a(),n("div",_o,[(a(!0),n(Z,null,ot(i(O),z=>(a(),n("div",{key:`nav-icr-${z.propertyId}`},[z.chats.length?(a(),n("div",zo,[z.chats.length===1?(a(),n("div",$o,[(a(!0),n(Z,null,ot(z.chats,kt=>(a(),y(i(Jt),{key:`nav-${kt.id}`,chat:kt,class:L({"unseen-client":z.isClientProperty,unseen:!z.isClientProperty,"unseen-client-ignore":z.concurrency<=z.totalAnsweredByHA})},null,8,["chat","class"]))),128))])):(a(),n("div",{key:1,class:L(["tawk-chat-item tawk-padding tawk-margin-bottom tawk-flex tawk-flex-middle tawk-text-bold-1 tawk-text-white",{"unseen-client":z.isClientProperty,unseen:!z.isClientProperty,"unseen-client-ignore":z.concurrency<=z.totalAnsweredByHA}]),onClick:kt=>Pt(z.propertyId)},[o("span",So,w(z.propertyName),1),o("span",No," ("+w(z.chats.length)+") ",1),l(Q,{isText:!0,class:"tawk-flex-none tawk-margin-xsmall-left"},{default:k(()=>[l(X,{type:"ignore",class:"tawk-text-white"})]),_:1})],10,Mo))])):g("",!0)]))),128))])):(a(),n("div",To,[(a(!0),n(Z,null,ot(i(V),z=>(a(),y(i(Jt),{key:`nav-${z._id}`,chat:z},null,8,["chat"]))),128))]))]))])):g("",!0),o("div",{ref_key:"chatList",ref:Y,id:"tawk-chat-navigation-list",class:"tawk-overflow-auto tawk-flex-1",onScrollPassive:Ut},[D.value?(a(),n("div",Io,[l(Q,{type:"light",style:{width:"calc(100% - 32px)","min-height":"auto","border-radius":"0 0 5px 5px",background:"#d9dbe4",padding:"4px"},onClick:wt[0]||(wt[0]=z=>Rt(D.value))},{default:k(()=>[Lo,l(X,{type:"arrow-up"})]),_:1})])):g("",!0),o("div",{class:L([i(P)?"tawk-padding-xsmall":"tawk-padding"])},[(a(!0),n(Z,null,ot(i(rt),z=>(a(),y(i(ni),{key:`nav-${z.propertyId}`,propertyChat:z,isMinified:i(P)},null,8,["propertyChat","isMinified"]))),128))],2),o("div",{class:L([i(P)?"tawk-padding-xsmall":"tawk-padding"])},[i(P)?(a(),n("div",Ao,[l(te,{listIcon:"group-chat",isFixed:!0,hasSearch:!1,showSelected:!1,showCaret:!1,isBorderLess:!0,buttonClass:"tawk-text-grey-2 tawk-hover-white tawk-flex-center"},{dropdownList:k(()=>[o("li",{class:"tawk-dropdown-list-item",onClick:T},[o("div",Po,[l(X,{type:"plus",class:"tawk-margin-xsmall-right"}),o("span",null,w(f.$i18n("tooltip","new_group")),1)])]),o("li",{class:"tawk-dropdown-list-item",onClick:It},[o("div",Eo,[l(X,{type:"user-group",class:"tawk-margin-xsmall-right"}),o("span",null,w(f.$i18n("sidebar","browse_groups")),1)])]),o("li",Vo,[l(zt,{options:[{value:"inline",label:f.$i18n("sidebar","show_group_inline")}],onInput:Et,value:i(N)?["inline"]:[]},null,8,["options","value"])])]),_:1})])):(a(),n("div",Ro,[l(Q,{isText:!0,class:"tawk-text-grey-2 tawk-hover-white tawk-margin-right tawk-flex-1 tawk-text-left",onClick:It},{default:k(()=>[K(w(f.$i18n("sidebar","groups")),1)]),_:1}),tt((a(),y(Q,{isText:!0,class:"tawk-margin-auto-left tawk-text-white tawk-flex-none tawk-padding-xsmall tawk-bg-hover-grey-1","data-text":f.$i18n("tooltip","new_group"),onClick:T},{default:k(()=>[l(X,{type:"plus",size:"small"})]),_:1},8,["data-text"])),[[$t]]),tt((a(),y(Q,{isText:!0,class:L(["tawk-flex-none tawk-padding-xsmall tawk-bg-hover-grey-1",[i(N)?"tawk-text-white":"tawk-text-grey-2"]]),"data-text":i(N)?f.$i18n("sidebar","open_group_pop"):f.$i18n("sidebar","open_group_inline"),onClick:Et},{default:k(()=>[l(X,{type:"copy",size:"small"})]),_:1},8,["class","data-text"])),[[$t]]),o("div",{class:L(["tawk-flex-none tawk-navigation-search",{show:d.value}])},[l(Q,{isText:!0,class:"tawk-text-white tawk-padding-xsmall"},{default:k(()=>[l(X,{type:"search",size:"small"})]),_:1}),l(ee,{class:"tawk-navigation-list-search",placeholder:f.$i18n("generic","search"),showClear:!0,preValue:b.value,onInput:ct},null,8,["placeholder","preValue"])],2)])),o("div",qo,[i(it)||c.value?(a(),n("div",Fo,[l(qt,{width:"20px",height:"20px",radius:"5px",class:"tawk-margin-right tawk-flex-none"}),l(qt,{width:"100%",height:"8px",radius:"5px",class:"tawk-flex-1"})])):d.value?(a(),n("div",Go,[s?(a(),n("div",Oo,[(a(!0),n(Z,null,ot(s,z=>(a(),y(i(Gt),{key:`nav-${z.id}`,groupChat:z,onClick:kt=>vt(z.id),onTogglePin:kt=>ft(z)},null,8,["groupChat","onClick","onTogglePin"]))),128))])):(a(),n("div",Bo,w(f.$i18n("sidebar","not_found")),1)),i(P)?g("",!0):(a(),y(Q,{key:2,size:"small",class:"tawk-margin-top tawk-text-grey-3 tawk-border-default tawk-padding",isText:!0,onClick:It},{default:k(()=>[K(w(f.$i18n("sidebar","browse_groups")),1)]),_:1}))])):(a(),n("div",Ho,[(a(!0),n(Z,null,ot(i(U),z=>(a(),y(i(Gt),{key:`nav-${z.id}`,groupChat:z,isMinified:i(P),onClick:kt=>vt(z.id),onTogglePin:kt=>ft(z)},null,8,["groupChat","isMinified","onClick","onTogglePin"]))),128)),(a(!0),n(Z,null,ot(i(E),z=>(a(),y(i(Gt),{key:`nav-${z.id}`,groupChat:z,isMinified:i(P),onClick:kt=>vt(z.id),onTogglePin:kt=>ft(z)},null,8,["groupChat","isMinified","onClick","onTogglePin"]))),128)),(a(!0),n(Z,null,ot(i(J),z=>(a(),y(i(Gt),{key:`nav-${z.id}`,groupChat:z,isMinified:i(P),onClick:kt=>vt(z.id),onTogglePin:kt=>ft(z)},null,8,["groupChat","isMinified","onClick","onTogglePin"]))),128))]))])],2),o("div",{class:L([i(P)?"tawk-padding-xsmall":"tawk-padding"])},[i(P)?(a(),n("div",Do,[l(te,{listIcon:"active-chat",isFixed:!0,hasSearch:!1,showSelected:!1,showCaret:!1,isBorderLess:!0,buttonClass:"tawk-text-grey-2 tawk-hover-white tawk-flex-center"},{dropdownList:k(()=>[o("li",{class:"tawk-dropdown-list-item",onClick:ht},[o("div",Uo,[l(X,{type:"user-group",class:"tawk-margin-xsmall-right"}),o("span",null,w(f.$i18n("sidebar","browse_dm")),1)])]),o("li",jo,[l(zt,{options:[{value:"inline",label:f.$i18n("sidebar","show_dm_inline")}],onInput:Vt,value:i(x)?["inline"]:[]},null,8,["options","value"])])]),_:1})])):(a(),n("div",Wo,[l(Q,{isText:!0,class:"tawk-text-grey-2 tawk-flex-1 tawk-text-left tawk-hover-white",onClick:ht},{default:k(()=>[K(w(f.$i18n("sidebar","direct_messages")),1)]),_:1}),tt((a(),y(Q,{isText:!0,class:"tawk-margin-auto-left tawk-text-white tawk-flex-none tawk-padding-xsmall tawk-bg-hover-grey-1","data-text":f.$i18n("tooltip","new_direct_message"),onClick:ht},{default:k(()=>[l(X,{type:"plus",size:"small"})]),_:1},8,["data-text"])),[[$t]]),tt((a(),y(Q,{isText:!0,class:L(["tawk-margin-auto-left tawk-flex-none tawk-padding-xsmall tawk-bg-hover-grey-1",[i(x)?"tawk-text-white":"tawk-text-grey-2"]]),"data-text":i(x)?f.$i18n("sidebar","open_dm_pop"):f.$i18n("sidebar","open_dm_inline"),onClick:Vt},{default:k(()=>[l(X,{type:"copy",size:"small"})]),_:1},8,["class","data-text"])),[[$t]]),o("div",{class:L(["tawk-flex-none tawk-navigation-search",{show:q.value}])},[l(Q,{isText:!0,class:"tawk-text-white tawk-padding-xsmall"},{default:k(()=>[l(X,{type:"search",size:"small"})]),_:1}),l(ee,{class:"tawk-navigation-list-search",placeholder:f.$i18n("generic","search"),showClear:!0,preValue:b.value,onInput:j},null,8,["placeholder","preValue"])],2)])),o("div",Ko,[i(it)||u.value?(a(),n("div",Yo,[l(qt,{width:"20px",height:"20px",radius:"5px",class:"tawk-margin-right tawk-flex-none"}),l(qt,{width:"100%",height:"8px",radius:"5px",class:"tawk-flex-1"})])):q.value?(a(),n("div",Jo,[C?(a(),n("div",Xo,[(a(!0),n(Z,null,ot(C,z=>(a(),y(i(Wt),{key:`nav-${z.id}`,class:L(["tawk-chat-item tawk-padding tawk-margin-bottom",{focused:z.isFocused,unseen:z.unSeen,"tawk-padding-remove":i(P)}]),directMessage:z,isMinified:i(P),onClick:kt=>W(z.id),onTogglePin:kt=>ft(z)},null,8,["class","directMessage","isMinified","onClick","onTogglePin"]))),128))])):(a(),n("div",Qo,w(f.$i18n("sidebar","not_found")),1)),i(P)?g("",!0):(a(),y(Q,{key:2,size:"small",class:"tawk-margin-top tawk-text-grey-3 tawk-border-default tawk-padding",isText:!0,onClick:ht},{default:k(()=>[K(w(f.$i18n("sidebar","browse_direct_messages")),1)]),_:1}))])):(a(),n("div",Zo,[l(i(Wt),{directMessage:i(S),isMinified:i(P),onClick:Tt},null,8,["directMessage","isMinified"]),(a(!0),n(Z,null,ot(i(m),z=>(a(),y(i(Wt),{key:`nav-${z.id}`,directMessage:z,isMinified:i(P),onClick:kt=>W(z.id),onTogglePin:kt=>ft(z)},null,8,["directMessage","isMinified","onClick","onTogglePin"]))),128))]))])],2),B.value?(a(),n("div",{key:1,class:"tawk-text-center",style:{bottom:"60px",position:"absolute",width:"100%","z-index":"1"},onClick:wt[1]||(wt[1]=z=>Rt(B.value))},[l(Q,{type:"light",style:{width:"calc(100% - 32px)","min-height":"auto","border-radius":"5px 5px 0 0",background:"#d9dbe4",padding:"4px"}},{default:k(()=>[tr,l(X,{type:"arrow-down"})]),_:1})])):g("",!0)],544)]),o("div",{class:L(["tawk-navigation-footer tawk-margin-auto-top tawk-flex-none tawk-text-right tawk-flex tawk-flex-middle",i(P)?"tawk-flex-column-reverse":"tawk-padding"])},[o("div",{class:L(i(P)?"tawk-padding":"tawk-flex-none tawk-padding-right tawk-margin-auto-right")},[l(i(Hi),{isMinified:i(P)},null,8,["isMinified"])],2),o("div",{class:L(i(P)?"tawk-padding":"")},[l(Q,{class:L(["tawk-notification-help-button tawk-text-grey-2 tawk-hover-white",i(P)?"minify":""]),isText:!0,onClick:wt[2]||(wt[2]=z=>Qt())},{default:k(()=>[l(X,{type:"help"})]),_:1},8,["class"])],2),o("div",{id:"tawk-notifications",class:L(i(P)?"tawk-padding":"")},[l(i(uo),{isMinified:i(P)},null,8,["isMinified"])],2)],2)])])],34)}}});const ar={class:"tawk-flex tawk-flex-middle tawk-flex-center tawk-padding tawk-padding-medium-bottom tawk-flex-none"},ir=gt({__name:"settings",setup(t){const e=St("_"),r=_t(),s=p(()=>r.getters["inlineChats/totalChats"]),c=p(()=>r.getters["inlineChats/totalColumns"]),d=p(()=>r.getters["inlineChats/showSidebar"]),b=p(()=>r.getters["inlineChats/startIndex"]),C=p(()=>r.getters["inlineChats/endIndex"]),u=p(()=>b.value>0&&s.value),q=p(()=>C.value<s.value);function F(){window.main.updateStorageSettings("showChatSidebar",!d.value),r.commit("inlineChats/setShowSidebar",!d.value)}function D(A){e.debounce(()=>{A&&window.Tawk.chatController.changeColumn(A)},100)()}function B(){let A=b.value;A-=c.value,A<0&&(A=0),r.commit("inlineChats/setStartIndex",A),r.commit("inlineChats/setEndIndex",A+c.value)}function h(){let A=C.value;A+=c.value,A>s.value&&(A=s.value),r.commit("inlineChats/setEndIndex",A),r.commit("inlineChats/setStartIndex",A-c.value)}function Y(A){return`View ${A} / 4`}return(A,it)=>{const et=R("tawk-icon"),m=R("tawk-button"),I=Nt("tawk-tooltip");return a(),n("div",ar,[tt((a(),y(m,{iconOnly:!0,type:i(d)?"primary":"light",size:"small",onClick:F,class:L({"show-custom-tabs":!i(d)}),"data-text":i(d)?"Turn off ALL sidebars":"Turn on ALL sidebars"},{default:k(()=>[l(et,{type:i(d)?"hide-custom-tabs":"show-custom-tabs"},null,8,["type"])]),_:1},8,["type","class","data-text"])),[[I]]),l(i(xe),{modelValue:i(c),"onUpdate:modelValue":it[0]||(it[0]=S=>ve(c)?c.value=S:null),min:1,max:4,lazy:!0,tooltipPosition:"bottom",showTooltip:"drag",format:Y,class:"tawk-flex-1 tawk-margin-medium-left tawk-margin-medium-right",onChange:D,style:{"max-width":"200px"}},null,8,["modelValue"]),l(m,{iconOnly:!0,size:"small",style:{"border-radius":"5px 0px 0px 5px"},disabled:!i(u),onClick:B},{default:k(()=>[l(et,{type:"chevron-left"})]),_:1},8,["disabled"]),l(m,{iconOnly:!0,size:"small",style:{"border-radius":"0px 5px 5px 0px"},disabled:!i(q),onClick:h},{default:k(()=>[l(et,{type:"chevron-right"})]),_:1},8,["disabled"])])}}});const or={class:"tawk-width-100 tawk-height-100 tawk-padding tawk-flex tawk-flex-column"},rr={key:2,class:"tawk-width-100 tawk-height-100 tawk-flex tawk-flex-center tawk-flex-middle"},nr=o("div",{class:"tawk-margin-large-right"},[o("p",{class:"tawk-text-bold-4"},"No Active Chats"),o("p",{class:"tawk-text-regular-3"},[K(" There are currently no chats from any of your properties."),o("br"),K(" Simulate a visitor and initiate a chat to test the application. ")])],-1),lr={class:"tawk-margin-large-left tawk-text-center"},sr=o("br",null,null,-1),dr=K(" Simulate Chat "),cr=gt({__name:"base",props:{isVisible:{type:Boolean}},emits:["simulate"],setup(t,{emit:e}){const r=t,s=_t(),c=mt(()=>bt(()=>import("./twk-chat.js"),["twk-chat.js","css/chat.css","twk-vendor.js","twk-chat-body.js","css/chat-body.css","twk-main.js","css/main.css"])),d=mt(()=>bt(()=>import("./twk-chat2.js"),["twk-chat2.js","css/chat.css","twk-vendor.js","twk-chat-body.js","css/chat-body.css"])),b=mt(()=>bt(()=>import("./twk-chat3.js"),["twk-chat3.js","css/chat2.css","twk-main.js","css/main.css","twk-vendor.js","twk-file-uploader.js"])),C="https://dashboard.tawk.to/_s/assets/images/chats/empty-livechat.svg";let u=null;const q=p(()=>s.getters["navigation/currentProperty"]),F=p(()=>s.getters["properties/property"](q.value)),D=p(()=>s.getters["inlineChats/chats"]),B=p(()=>s.getters["inlineChats/totalColumns"]),h=p(()=>s.getters["inlineChats/showSidebar"]),Y=p(()=>s.getters["inlineChats/startIndex"]),A=p(()=>s.getters["inlineChats/endIndex"]),it=p(()=>{const V=D.value;return V&&V.length<B.value?`tawk-chat-column-${V.length}`:`tawk-chat-column-${B.value}`}),et=p(()=>s.getters["inlineChats/selectedPropertiesId"]),m=p(()=>s.getters["inlineChats/isAllSelected"]);ut(()=>r.isVisible,V=>{s.commit("inlineChats/setIsLiveChatView",V)});function I(V){return V<A.value&&V>=Y.value}function S(){const V="width=450, height=500",O=s.getters["properties/personalPage"],rt=_.find(O.assets,function(v){return v.name!=="profile"});if(!O||!O.enabled||!rt)return alert(window.languageParser.translate("visitors","simulate_error"));u===null||u.closed?u=window.open(GLOBAL_TAWK_URL+"/chat/"+O.id+"/"+rt.id,"",V):u.focus()}return se(()=>{window.Tawk.chatController.setStore(s),window.Tawk.visitorChatController.setStore(s),window.Tawk.liveMonitoringController.setStore(s)}),(V,O)=>{const rt=R("tawk-button");return a(),n("div",or,[i(D).length?(a(),y(ir,{key:0})):g("",!0),i(D).length?(a(),n("div",{key:1,class:L(["tawk-width-100 tawk-height-100 tawk-flex tawk-flex-nowrap tawk-overflow-hidden tawk-flex-1",i(it)])},[(a(!0),n(Z,null,ot(i(D),(v,P)=>{var N;return tt((a(),n("div",{key:v.id,class:"tawk-height-100 tawk-flex-none tawk-chat-column"},[v.isGroup?(a(),y(i(c),{key:0,chatData:v,showSidebar:i(h),hasSidebar:!0},null,8,["chatData","showSidebar"])):g("",!0),v.isDM?(a(),y(i(d),{key:1,chatData:v,showSidebar:i(h),hasSidebar:!1},null,8,["chatData","showSidebar"])):g("",!0),v.isVisitor&&(i(m)||i(et).indexOf(v.propertyId)!==-1)?(a(),y(i(b),{key:2,id:v.id,propertyId:v.propertyId,isHistory:!1,showSidebar:i(h),isAdmin:(N=i(F))==null?void 0:N.isAdmin,chatDataSource:v,hasSidebar:!0},null,8,["id","propertyId","showSidebar","isAdmin","chatDataSource"])):g("",!0)])),[[Ct,I(P)]])}),128))],2)):(a(),n("div",rr,[nr,o("div",lr,[o("img",{src:C}),sr,l(rt,{class:"tawk-margin-medium-top tawk-text-green-1",onClick:S},{default:k(()=>[dr]),_:1})])]))])}}});const pr=["onClick"],wr={class:"tawk-dropdown-item tawk-flex tawk-flex-middle"},ur={class:"tawk-margin-auto-right"},kr={key:0,class:"tawk-margin-left tawk-badge-green"},gr=gt({__name:"popout-conversations",setup(t){const e=mt(()=>bt(()=>import("./twk-chat.js"),["twk-chat.js","css/chat.css","twk-vendor.js","twk-chat-body.js","css/chat-body.css","twk-main.js","css/main.css"])),r=mt(()=>bt(()=>import("./twk-chat2.js"),["twk-chat2.js","css/chat.css","twk-vendor.js","twk-chat-body.js","css/chat-body.css"])),s=mt(()=>bt(()=>import("./twk-ticket.js"),["twk-ticket.js","css/ticket.css","twk-main.js","css/main.css","twk-vendor.js","twk-ticket-service.js","twk-file-uploader.js","twk-ticket2.js"])),c=mt(()=>bt(()=>import("./twk-chat3.js"),["twk-chat3.js","css/chat2.css","twk-main.js","css/main.css","twk-vendor.js","twk-file-uploader.js"])),d=St("_"),b=_t(),C=M(!1),u=M(),q=p(()=>b.getters["popoutConversations/conversations"]),F=p(()=>b.getters["popoutConversations/hiddenConversations"]);p(()=>b.getters["popoutConversations/maxVisibleChats"]);const D=p(()=>b.getters["chatNavigation/navigationMinified"]),B=p(()=>b.getters["navigation/currentProperty"]),h=p(()=>b.getters["properties/property"](B.value)),Y=p(()=>d.filter(F,["newMessage",!0]).length);ut(q,I=>{I&&I.length?document.body.className.indexOf("agent-chat-active")===-1&&(document.body.className+=" agent-chat-active"):document.body.className=document.body.className.replace(/agent-chat-active/,"").trim(),C.value||m()},{deep:!0}),ut(D,()=>{m()});function A(I){b.dispatch("popoutConversations/closeConversation",I)}function it(I){b.dispatch("popoutConversations/focusConversation",I)}function et(I){b.commit("popoutConversations/setMaxVisibleConversations",I)}function m(){setTimeout(()=>{const I=u.value.clientWidth,S=300;et(Math.floor((I-70)/S)),b.dispatch("popoutConversations/resize"),C.value=!0},1e3/66)}return Lt(()=>{window.addEventListener("resize",d.debounce(m.bind(this),150))}),(I,S)=>{const V=R("tawk-icon"),O=R("tawk-button"),rt=R("tawk-dropdown");return a(),n("div",{ref_key:"root",ref:u,id:"tawk-live-chats-popout",class:"tawk-flex tawk-flex-row-reverse tawk-flex-bottom"},[(a(!0),n(Z,null,ot(i(q),v=>{var P,N;return tt((a(),n("div",{key:`popout-${v.id}`},[v.isGroup?(a(),y(i(e),{key:0,chatData:v,isPopout:!0,onClose:x=>A(v.id)},null,8,["chatData","onClose"])):g("",!0),v.isDM?(a(),y(i(r),{key:1,chatData:v,isPopout:!0,onClose:x=>A(v.id)},null,8,["chatData","onClose"])):g("",!0),v.isTicket?(a(),y(i(s),{key:2,id:v.id,propertyId:v.propertyId,isPopout:!0,onClose:x=>A(v.id),isAdmin:(P=i(h))==null?void 0:P.isAdmin},null,8,["id","propertyId","onClose","isAdmin"])):g("",!0),v.isVisitor?(a(),y(i(c),{key:3,id:v.id,propertyId:v.propertyId,isPopout:!0,isHistory:v.isHistory,chatDataSource:v,onClose:x=>A(v.id),isAdmin:(N=i(h))==null?void 0:N.isAdmin},null,8,["id","propertyId","isHistory","chatDataSource","onClose","isAdmin"])):g("",!0)])),[[Ct,!v.hidden]])}),128)),i(F).length?(a(),n("div",{key:0,class:L(["tawk-popout-hidden-list",{new:i(Y)}])},[l(rt,{listIcon:"active-chat",innerLabel:`${i(F).length}`,hasSearch:!1,hasAll:!1,isFixed:!0,isRight:!0,buttonClass:"tawk-padding-xsmall tawk-popout-hidden-button"},{dropdownList:k(()=>[(a(!0),n(Z,null,ot(i(F),v=>(a(),n("li",{key:`popout-${v.id}`,class:"tawk-dropdown-list-item",style:{"min-width":"150px"},onClick:P=>it(v)},[o("div",wr,[o("div",ur,w(v.name),1),v.newMessage?(a(),n("div",kr,[l(V,{type:"thread",size:"xsmall"})])):g("",!0),l(O,{isText:!0,onClick:Xt(P=>A(v.id),["stop"]),class:"tawk-margin-left tawk-hover-white"},{default:k(()=>[l(V,{type:"close",size:"small"})]),_:2},1032,["onClick"])])],8,pr))),128))]),_:1},8,["innerLabel"])],2)):g("",!0)],512)}}});const hr={id:"tawk-app-view",class:"tawk-flex-1 tawk-flex tawk-flex-column tawk-overflow-hidden"},fr={class:"tawk-width-100 tawk-height-100 tawk-flex tawk-flex-1 tawk-overflow-hidden"},br={key:0,id:"tawk-app-connecting"},mr={id:"active-chats",class:"tawk-width-100 tawk-height-100 tawk-overflow-hidden"},vr={class:"tawk-width-100 tawk-height-100"},xr=o("div",{id:"ember-app"},null,-1),yr=gt({__name:"App",setup(t){const e=re(),r=M(!1),s=M(!1),c=p(()=>store.getters["session/connected"]);return ut(()=>e.name,d=>{d==="chat"?r.value=!0:r.value=!1}),se(()=>{window.socketConnector&&window.socketConnector.setStore(store),s.value=window.CHANNEL_ID&&window.CHANNEL_ID==="canary"}),Lt(()=>{store.commit("session/setConnected",window.main.initDataReady),window.emitter.on("data-ready",d=>{store.commit("session/setConnected",d)})}),(d,b)=>{const C=R("router-view");return a(),n("div",{class:L(["tawk-width-100 tawk-height-100 tawk-overflow-hidden",{canary:s.value}])},[l(er),o("div",hr,[l(Ua),o("div",fr,[i(c)?g("",!0):(a(),n("div",br)),tt(o("div",mr,[l(cr,{isVisible:r.value},null,8,["isVisible"])],512),[[Ct,r.value]]),tt(o("div",vr,[l(C),xr],512),[[Ct,!r.value]])])]),l(gr)],2)}}}),Ot=[{label:"Afghanistan",value:"af",dialCode:"+93",priority:0,areaCodes:null},{label:"Albania",value:"al",dialCode:"+355",priority:0,areaCodes:null},{label:"Algeria",value:"dz",dialCode:"+213",priority:0,areaCodes:null},{label:"American Samoa",value:"as",dialCode:"+1",priority:5,areaCodes:["684"]},{label:"Andorra",value:"ad",dialCode:"+376",priority:0,areaCodes:null},{label:"Angola",value:"ao",dialCode:"+244",priority:0,areaCodes:null},{label:"Anguilla",value:"ai",dialCode:"+1",priority:6,areaCodes:["264"]},{label:"Antigua And Barbuda",value:"ag",dialCode:"+1",priority:7,areaCodes:["268"]},{label:"Argentina",value:"ar",dialCode:"+54",priority:0,areaCodes:null},{label:"Armenia",value:"am",dialCode:"+374",priority:0,areaCodes:null},{label:"Aruba",value:"aw",dialCode:"+297",priority:0,areaCodes:null},{label:"Aruba",value:"ac",dialCode:"+247",priority:0,areaCodes:null},{label:"Australia",value:"au",dialCode:"+61",priority:0,areaCodes:null},{label:"Austria",value:"at",dialCode:"+43",priority:0,areaCodes:null},{label:"Azerbaijan",value:"az",dialCode:"+994",priority:0,areaCodes:null},{label:"Bahamas",value:"bs",dialCode:"+1",priority:8,areaCodes:["242"]},{label:"Bahrain",value:"bh",dialCode:"+973",priority:0,areaCodes:null},{label:"Bangladesh",value:"bd",dialCode:"+880",priority:0,areaCodes:null},{label:"Barbados",value:"bb",dialCode:"+1",priority:9,areaCodes:["246"]},{label:"Belarus",value:"by",dialCode:"+375",priority:0,areaCodes:null},{label:"Belgium",value:"be",dialCode:"+32",priority:0,areaCodes:null},{label:"Belize",value:"bz",dialCode:"+501",priority:0,areaCodes:null},{label:"Benin",value:"bj",dialCode:"+229",priority:0,areaCodes:null},{label:"Bermuda",value:"bm",dialCode:"+1",priority:10,areaCodes:["441"]},{label:"Bhutan",value:"bt",dialCode:"+975",priority:0,areaCodes:null},{label:"Bolivia, Plurinational State Of",value:"bo",dialCode:"+591",priority:0,areaCodes:null},{label:"Bosnia And Herzegovina",value:"ba",dialCode:"+387",priority:0,areaCodes:null},{label:"Botswana",value:"bw",dialCode:"+267",priority:0,areaCodes:null},{label:"Brazil",value:"br",dialCode:"+55",priority:0,areaCodes:null},{label:"British Indian Ocean Territory",value:"io",dialCode:"+246",priority:0,areaCodes:null},{label:"Virgin Islands, British",value:"vg",dialCode:"+1",priority:11,areaCodes:["284"]},{label:"Brunei Darussalam",value:"bn",dialCode:"+673",priority:0,areaCodes:null},{label:"Bulgaria",value:"bg",dialCode:"+359",priority:0,areaCodes:null},{label:"Burkina Faso",value:"bf",dialCode:"+226",priority:0,areaCodes:null},{label:"Burundi",value:"bi",dialCode:"+257",priority:0,areaCodes:null},{label:"Cambodia",value:"kh",dialCode:"+855",priority:0,areaCodes:null},{label:"Cameroon",value:"cm",dialCode:"+237",priority:0,areaCodes:null},{label:"Canada",value:"ca",dialCode:"+1",priority:1,areaCodes:["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]},{label:"Cape Verde",value:"cv",dialCode:"+238",priority:0,areaCodes:null},{label:"Bonaire, Sint Eustatius And Saba",value:"bq",dialCode:"+599",priority:1,areaCodes:["3","4","7"]},{label:"Cayman Islands",value:"ky",dialCode:"+1",priority:12,areaCodes:["345"]},{label:"Central African Republic",value:"cf",dialCode:"+236",priority:0,areaCodes:null},{label:"Chad",value:"td",dialCode:"+235",priority:0,areaCodes:null},{label:"Chile",value:"cl",dialCode:"+56",priority:0,areaCodes:null},{label:"China",value:"cn",dialCode:"+86",priority:0,areaCodes:null},{label:"Christmas Island",value:"cx",dialCode:"+61",priority:2,areaCodes:["89164"]},{label:"Cocos (Keeling) Islands",value:"cc",dialCode:"+61",priority:1,areaCodes:["89162"]},{label:"Colombia",value:"co",dialCode:"+57",priority:0,areaCodes:null},{label:"Comoros",value:"km",dialCode:"+269",priority:0,areaCodes:null},{label:"Congo, The Democratic Republic Of The",value:"cd",dialCode:"+243",priority:0,areaCodes:null},{label:"Congo",value:"cg",dialCode:"+242",priority:0,areaCodes:null},{label:"Cook Islands",value:"ck",dialCode:"+682",priority:0,areaCodes:null},{label:"Costa Rica",value:"cr",dialCode:"+506",priority:0,areaCodes:null},{label:"C\xF4Te D'Ivoire",value:"ci",dialCode:"+225",priority:0,areaCodes:null},{label:"Croatia",value:"hr",dialCode:"+385",priority:0,areaCodes:null},{label:"Cuba",value:"cu",dialCode:"+53",priority:0,areaCodes:null},{label:"Cura\xE7Ao",value:"cw",dialCode:"+599",priority:0,areaCodes:null},{label:"Cyprus",value:"cy",dialCode:"+357",priority:0,areaCodes:null},{label:"Czech Republic",value:"cz",dialCode:"+420",priority:0,areaCodes:null},{label:"Denmark",value:"dk",dialCode:"+45",priority:0,areaCodes:null},{label:"Djibouti",value:"dj",dialCode:"+253",priority:0,areaCodes:null},{label:"Dominica",value:"dm",dialCode:"+1",priority:13,areaCodes:["767"]},{label:"Dominican Republic",value:"do",dialCode:"+1",priority:2,areaCodes:["809","829","849"]},{label:"Ecuador",value:"ec",dialCode:"+593",priority:0,areaCodes:null},{label:"Egypt",value:"eg",dialCode:"+20",priority:0,areaCodes:null},{label:"El Salvador",value:"sv",dialCode:"+503",priority:0,areaCodes:null},{label:"Equatorial Guinea",value:"gq",dialCode:"+240",priority:0,areaCodes:null},{label:"Eritrea",value:"er",dialCode:"+291",priority:0,areaCodes:null},{label:"Estonia",value:"ee",dialCode:"+372",priority:0,areaCodes:null},{label:"Swaziland",value:"sz",dialCode:"+268",priority:0,areaCodes:null},{label:"Ethiopia",value:"et",dialCode:"+251",priority:0,areaCodes:null},{label:"Falkland Islands (Malvinas)",value:"fk",dialCode:"+500",priority:0,areaCodes:null},{label:"Faroe Islands",value:"fo",dialCode:"+298",priority:0,areaCodes:null},{label:"Fiji",value:"fj",dialCode:"+679",priority:0,areaCodes:null},{label:"Finland",value:"fi",dialCode:"+358",priority:0,areaCodes:null},{label:"France",value:"fr",dialCode:"+33",priority:0,areaCodes:null},{label:"French Guiana",value:"gf",dialCode:"+594",priority:0,areaCodes:null},{label:"French Polynesia",value:"pf",dialCode:"+689",priority:0,areaCodes:null},{label:"Gabon",value:"ga",dialCode:"+241",priority:0,areaCodes:null},{label:"Gambia",value:"gm",dialCode:"+220",priority:0,areaCodes:null},{label:"Georgia",value:"ge",dialCode:"+995",priority:0,areaCodes:null},{label:"Germany",value:"de",dialCode:"+49",priority:0,areaCodes:null},{label:"Ghana",value:"gh",dialCode:"+233",priority:0,areaCodes:null},{label:"Gibraltar",value:"gi",dialCode:"+350",priority:0,areaCodes:null},{label:"Greece",value:"gr",dialCode:"+30",priority:0,areaCodes:null},{label:"Greenland",value:"gl",dialCode:"+299",priority:0,areaCodes:null},{label:"Grenada",value:"gd",dialCode:"+1",priority:14,areaCodes:["473"]},{label:"Guadeloupe",value:"gp",dialCode:"+590",priority:0,areaCodes:null},{label:"Guam",value:"gu",dialCode:"+1",priority:15,areaCodes:["671"]},{label:"Guatemala",value:"gt",dialCode:"+502",priority:0,areaCodes:null},{label:"Guernsey",value:"gg",dialCode:"+44",priority:1,areaCodes:["1481","7781","7839","7911"]},{label:"Guinea",value:"gn",dialCode:"+224",priority:0,areaCodes:null},{label:"Guinea-Bissau",value:"gw",dialCode:"+245",priority:0,areaCodes:null},{label:"Guyana",value:"gy",dialCode:"+592",priority:0,areaCodes:null},{label:"Haiti",value:"ht",dialCode:"+509",priority:0,areaCodes:null},{label:"Honduras",value:"hn",dialCode:"+504",priority:0,areaCodes:null},{label:"Hong Kong",value:"hk",dialCode:"+852",priority:0,areaCodes:null},{label:"Hungary",value:"hu",dialCode:"+36",priority:0,areaCodes:null},{label:"Iceland",value:"is",dialCode:"+354",priority:0,areaCodes:null},{label:"India",value:"in",dialCode:"+91",priority:0,areaCodes:null},{label:"Indonesia",value:"id",dialCode:"+62",priority:0,areaCodes:null},{label:"Iran, Islamic Republic Of",value:"ir",dialCode:"+98",priority:0,areaCodes:null},{label:"Iraq",value:"iq",dialCode:"+964",priority:0,areaCodes:null},{label:"Ireland",value:"ie",dialCode:"+353",priority:0,areaCodes:null},{label:"Isle Of Man",value:"im",dialCode:"+44",priority:2,areaCodes:["1624","74576","7524","7924","7624"]},{label:"Israel",value:"il",dialCode:"+972",priority:0,areaCodes:null},{label:"Italy",value:"it",dialCode:"+39",priority:0,areaCodes:null},{label:"Jamaica",value:"jm",dialCode:"+1",priority:4,areaCodes:["876","658"]},{label:"Japan",value:"jp",dialCode:"+81",priority:0,areaCodes:null},{label:"Jersey",value:"je",dialCode:"+44",priority:3,areaCodes:["1534","7509","7700","7797","7829","7937"]},{label:"Jordan",value:"jo",dialCode:"+962",priority:0,areaCodes:null},{label:"Kazakhstan",value:"kz",dialCode:"+7",priority:1,areaCodes:["33","7"]},{label:"Kenya",value:"ke",dialCode:"+254",priority:0,areaCodes:null},{label:"Kiribati",value:"ki",dialCode:"+686",priority:0,areaCodes:null},{label:"Kiribati",value:"xk",dialCode:"+383",priority:0,areaCodes:null},{label:"Kuwait",value:"kw",dialCode:"+965",priority:0,areaCodes:null},{label:"Kyrgyzstan",value:"kg",dialCode:"+996",priority:0,areaCodes:null},{label:"Lao People'S Democratic Republic",value:"la",dialCode:"+856",priority:0,areaCodes:null},{label:"Latvia",value:"lv",dialCode:"+371",priority:0,areaCodes:null},{label:"Lebanon",value:"lb",dialCode:"+961",priority:0,areaCodes:null},{label:"Lesotho",value:"ls",dialCode:"+266",priority:0,areaCodes:null},{label:"Liberia",value:"lr",dialCode:"+231",priority:0,areaCodes:null},{label:"Libya",value:"ly",dialCode:"+218",priority:0,areaCodes:null},{label:"Liechtenstein",value:"li",dialCode:"+423",priority:0,areaCodes:null},{label:"Lithuania",value:"lt",dialCode:"+370",priority:0,areaCodes:null},{label:"Luxembourg",value:"lu",dialCode:"+352",priority:0,areaCodes:null},{label:"Macao",value:"mo",dialCode:"+853",priority:0,areaCodes:null},{label:"Macedonia, The Former Yugoslav Republic Of",value:"mk",dialCode:"+389",priority:0,areaCodes:null},{label:"Madagascar",value:"mg",dialCode:"+261",priority:0,areaCodes:null},{label:"Malawi",value:"mw",dialCode:"+265",priority:0,areaCodes:null},{label:"Malaysia",value:"my",dialCode:"+60",priority:0,areaCodes:null},{label:"Maldives",value:"mv",dialCode:"+960",priority:0,areaCodes:null},{label:"Mali",value:"ml",dialCode:"+223",priority:0,areaCodes:null},{label:"Malta",value:"mt",dialCode:"+356",priority:0,areaCodes:null},{label:"Marshall Islands",value:"mh",dialCode:"+692",priority:0,areaCodes:null},{label:"Martinique",value:"mq",dialCode:"+596",priority:0,areaCodes:null},{label:"Mauritania",value:"mr",dialCode:"+222",priority:0,areaCodes:null},{label:"Mauritius",value:"mu",dialCode:"+230",priority:0,areaCodes:null},{label:"Mayotte",value:"yt",dialCode:"+262",priority:1,areaCodes:["269","639"]},{label:"Mexico",value:"mx",dialCode:"+52",priority:0,areaCodes:null},{label:"Micronesia, Federated States Of",value:"fm",dialCode:"+691",priority:0,areaCodes:null},{label:"Moldova, Republic Of",value:"md",dialCode:"+373",priority:0,areaCodes:null},{label:"Monaco",value:"mc",dialCode:"+377",priority:0,areaCodes:null},{label:"Mongolia",value:"mn",dialCode:"+976",priority:0,areaCodes:null},{label:"Montenegro",value:"me",dialCode:"+382",priority:0,areaCodes:null},{label:"Montserrat",value:"ms",dialCode:"+1",priority:16,areaCodes:["664"]},{label:"Morocco",value:"ma",dialCode:"+212",priority:0,areaCodes:null},{label:"Mozambique",value:"mz",dialCode:"+258",priority:0,areaCodes:null},{label:"Myanmar",value:"mm",dialCode:"+95",priority:0,areaCodes:null},{label:"Namibia",value:"na",dialCode:"+264",priority:0,areaCodes:null},{label:"Nauru",value:"nr",dialCode:"+674",priority:0,areaCodes:null},{label:"Nepal",value:"np",dialCode:"+977",priority:0,areaCodes:null},{label:"Netherlands",value:"nl",dialCode:"+31",priority:0,areaCodes:null},{label:"New Caledonia",value:"nc",dialCode:"+687",priority:0,areaCodes:null},{label:"New Zealand",value:"nz",dialCode:"+64",priority:0,areaCodes:null},{label:"Nicaragua",value:"ni",dialCode:"+505",priority:0,areaCodes:null},{label:"Niger",value:"ne",dialCode:"+227",priority:0,areaCodes:null},{label:"Nigeria",value:"ng",dialCode:"+234",priority:0,areaCodes:null},{label:"Niue",value:"nu",dialCode:"+683",priority:0,areaCodes:null},{label:"Norfolk Island",value:"nf",dialCode:"+672",priority:0,areaCodes:null},{label:"Korea, Democratic People'S Republic Of",value:"kp",dialCode:"+850",priority:0,areaCodes:null},{label:"Northern Mariana Islands",value:"mp",dialCode:"+1",priority:17,areaCodes:["670"]},{label:"Norway",value:"no",dialCode:"+47",priority:0,areaCodes:null},{label:"Oman",value:"om",dialCode:"+968",priority:0,areaCodes:null},{label:"Pakistan",value:"pk",dialCode:"+92",priority:0,areaCodes:null},{label:"Palau",value:"pw",dialCode:"+680",priority:0,areaCodes:null},{label:"Palestine, State Of",value:"ps",dialCode:"+970",priority:0,areaCodes:null},{label:"Panama",value:"pa",dialCode:"+507",priority:0,areaCodes:null},{label:"Papua New Guinea",value:"pg",dialCode:"+675",priority:0,areaCodes:null},{label:"Paraguay",value:"py",dialCode:"+595",priority:0,areaCodes:null},{label:"Peru",value:"pe",dialCode:"+51",priority:0,areaCodes:null},{label:"Philippines",value:"ph",dialCode:"+63",priority:0,areaCodes:null},{label:"Poland",value:"pl",dialCode:"+48",priority:0,areaCodes:null},{label:"Portugal",value:"pt",dialCode:"+351",priority:0,areaCodes:null},{label:"Puerto Rico",value:"pr",dialCode:"+1",priority:3,areaCodes:["787","939"]},{label:"Qatar",value:"qa",dialCode:"+974",priority:0,areaCodes:null},{label:"R\xE9Union",value:"re",dialCode:"+262",priority:0,areaCodes:null},{label:"Romania",value:"ro",dialCode:"+40",priority:0,areaCodes:null},{label:"Russian Federation",value:"ru",dialCode:"+7",priority:0,areaCodes:null},{label:"Rwanda",value:"rw",dialCode:"+250",priority:0,areaCodes:null},{label:"Saint Barth\xE9Lemy",value:"bl",dialCode:"+590",priority:1,areaCodes:null},{label:"Saint Helena, Ascension And Tristan Da Cunha",value:"sh",dialCode:"+290",priority:0,areaCodes:null},{label:"Saint Kitts And Nevis",value:"kn",dialCode:"+1",priority:18,areaCodes:["869"]},{label:"Saint Lucia",value:"lc",dialCode:"+1",priority:19,areaCodes:["758"]},{label:"Saint Martin (French Part)",value:"mf",dialCode:"+590",priority:2,areaCodes:null},{label:"Saint Pierre And Miquelon",value:"pm",dialCode:"+508",priority:0,areaCodes:null},{label:"Saint Vincent And The Grenadines",value:"vc",dialCode:"+1",priority:20,areaCodes:["784"]},{label:"Samoa",value:"ws",dialCode:"+685",priority:0,areaCodes:null},{label:"San Marino",value:"sm",dialCode:"+378",priority:0,areaCodes:null},{label:"Sao Tome And Principe",value:"st",dialCode:"+239",priority:0,areaCodes:null},{label:"Saudi Arabia",value:"sa",dialCode:"+966",priority:0,areaCodes:null},{label:"Senegal",value:"sn",dialCode:"+221",priority:0,areaCodes:null},{label:"Serbia",value:"rs",dialCode:"+381",priority:0,areaCodes:null},{label:"Seychelles",value:"sc",dialCode:"+248",priority:0,areaCodes:null},{label:"Sierra Leone",value:"sl",dialCode:"+232",priority:0,areaCodes:null},{label:"Singapore",value:"sg",dialCode:"+65",priority:0,areaCodes:null},{label:"Sint Maarten (Dutch Part)",value:"sx",dialCode:"+1",priority:21,areaCodes:["721"]},{label:"Slovakia",value:"sk",dialCode:"+421",priority:0,areaCodes:null},{label:"Slovenia",value:"si",dialCode:"+386",priority:0,areaCodes:null},{label:"Solomon Islands",value:"sb",dialCode:"+677",priority:0,areaCodes:null},{label:"Somalia",value:"so",dialCode:"+252",priority:0,areaCodes:null},{label:"South Africa",value:"za",dialCode:"+27",priority:0,areaCodes:null},{label:"Korea, Republic Of",value:"kr",dialCode:"+82",priority:0,areaCodes:null},{label:"South Sudan",value:"ss",dialCode:"+211",priority:0,areaCodes:null},{label:"Spain",value:"es",dialCode:"+34",priority:0,areaCodes:null},{label:"Sri Lanka",value:"lk",dialCode:"+94",priority:0,areaCodes:null},{label:"Sudan",value:"sd",dialCode:"+249",priority:0,areaCodes:null},{label:"Surivalue",value:"sr",dialCode:"+597",priority:0,areaCodes:null},{label:"Svalbard And Jan Mayen",value:"sj",dialCode:"+47",priority:1,areaCodes:["79"]},{label:"Sweden",value:"se",dialCode:"+46",priority:0,areaCodes:null},{label:"Switzerland",value:"ch",dialCode:"+41",priority:0,areaCodes:null},{label:"Syrian Arab Republic",value:"sy",dialCode:"+963",priority:0,areaCodes:null},{label:"Taiwan, Province Of China",value:"tw",dialCode:"+886",priority:0,areaCodes:null},{label:"Tajikistan",value:"tj",dialCode:"+992",priority:0,areaCodes:null},{label:"Tanzania, United Republic Of",value:"tz",dialCode:"+255",priority:0,areaCodes:null},{label:"Thailand",value:"th",dialCode:"+66",priority:0,areaCodes:null},{label:"Timor-Leste",value:"tl",dialCode:"+670",priority:0,areaCodes:null},{label:"Togo",value:"tg",dialCode:"+228",priority:0,areaCodes:null},{label:"Tokelau",value:"tk",dialCode:"+690",priority:0,areaCodes:null},{label:"Tonga",value:"to",dialCode:"+676",priority:0,areaCodes:null},{label:"Trinidad And Tobago",value:"tt",dialCode:"+1",priority:22,areaCodes:["868"]},{label:"Tunisia",value:"tn",dialCode:"+216",priority:0,areaCodes:null},{label:"Turkey",value:"tr",dialCode:"+90",priority:0,areaCodes:null},{label:"Turkmenistan",value:"tm",dialCode:"+993",priority:0,areaCodes:null},{label:"Turks And Caicos Islands",value:"tc",dialCode:"+1",priority:23,areaCodes:["649"]},{label:"Tuvalu",value:"tv",dialCode:"+688",priority:0,areaCodes:null},{label:"Virgin Islands, U.S.",value:"vi",dialCode:"+1",priority:24,areaCodes:["340"]},{label:"Uganda",value:"ug",dialCode:"+256",priority:0,areaCodes:null},{label:"Ukraine",value:"ua",dialCode:"+380",priority:0,areaCodes:null},{label:"United Arab Emirates",value:"ae",dialCode:"+971",priority:0,areaCodes:null},{label:"United Kingdom",value:"gb",dialCode:"+44",priority:0,areaCodes:null},{label:"United States",value:"us",dialCode:"+1",priority:0,areaCodes:null},{label:"Uruguay",value:"uy",dialCode:"+598",priority:0,areaCodes:null},{label:"Uzbekistan",value:"uz",dialCode:"+998",priority:0,areaCodes:null},{label:"Vanuatu",value:"vu",dialCode:"+678",priority:0,areaCodes:null},{label:"Holy See (Vatican City State)",value:"va",dialCode:"+39",priority:1,areaCodes:["06698"]},{label:"Venezuela, Bolivarian Republic Of",value:"ve",dialCode:"+58",priority:0,areaCodes:null},{label:"Viet Nam",value:"vn",dialCode:"+84",priority:0,areaCodes:null},{label:"Wallis And Futuna",value:"wf",dialCode:"+681",priority:0,areaCodes:null},{label:"Western Sahara",value:"eh",dialCode:"+212",priority:1,areaCodes:["5288","5289"]},{label:"Yemen",value:"ye",dialCode:"+967",priority:0,areaCodes:null},{label:"Zambia",value:"zm",dialCode:"+260",priority:0,areaCodes:null},{label:"Zimbabwe",value:"zw",dialCode:"+263",priority:0,areaCodes:null},{label:"\xE5Land Islands",value:"ax",dialCode:"+358",priority:1,areaCodes:["18"]}],Cr={format(t){let e={phoneNumber:t,countryCode:"ukn",dialCode:""},r,s=[];if(t[0]==="+"){for(let c=0;c<Ot.length;c++){const d=Ot[c];if(t.indexOf(d.dialCode)===0){if(d.areaCodes){const b=t.substring(d.dialCode.length);for(let C=0;C<d.areaCodes.length;C++)if(b.indexOf(d.areaCodes[C])===0){r=d;break}}s.push(d)}}if(s=_.sortBy(s,["priority"]),!r&&s.length&&(r=s[0]),r){let c=t.substring(r.dialCode.length,t.length);e.dialCode=r.dialCode,e.countryCode=r.value,e.phoneNumber=c}}return e},getCodeList(){return Ot},searchCode(t){return _.filter(Ot,e=>e.dialCode.indexOf(t)===0)}},Bt={async loadAggregation(){const{ok:t,data:e}=await ie.getAggregation();if(t)if(window.store&&e.total>0){const r=e.total<1e3?`${e.total}`:"999+";window.store.commit("inbox/setTotalOpenConversations",r)}else window.store.commit("inbox/setTotalOpenConversations",null)},newTicket(t){t.crtrId!==window.Tawk.userController.user.id&&(Bt.loadAggregation(),window.notificationController.notifyTicketEvent(t,!0),window.emitter.emit("newTicket",t))},async ticketUpdate(t){if(!(!t.event||t.event.crtrId===window.Tawk.userController.user.id)){if(window.Tawk.routeManager.get("currentState.name")!=="inbox"&&t.event.op==="ticket-reply"){const{ok:e,response:r}=await Ce.getTicket(t.pgid,t.tId);e&&r&&(r.assgnId===window.Tawk.userController.user.id||r.wtch.indexOf(window.Tawk.userController.user.id)!==-1)&&window.notificationController.notifyTicketEvent(t)}window.emitter.emit("ticketUpdate",t),Bt.loadAggregation()}},chatUpdate(t){Bt.loadAggregation(),window.emitter.emit("chatEvent",t)}},Kt=function(t){return{id:t.vsk||t._id,propertyId:t.pgid,personId:t.pid,visitorId:t.vid,chatEndVersion:t.cev,chats:t.c,chatVersion:t.cver,name:t.n,agentList:t.al,agentListVersion:t.alv,browser:t.bw,countryCode:t.cc,city:t.cy,countryName:t.cn,chatWindow:t.cw,department:t.dpt,hasAgent:t.ha,hostName:t.htn,ip:t.ip,os:t.os,propertyName:t.pgn,referrer:t.rf,status:t.st,tags:t.tags,tagsVersion:t.tagsv,timezone:t.tzo,userAgent:t.ua,pageTitle:t.pt,pageUrl:t.pu,incomingCallId:t.incomingCallId,isChatRequest:t.cr,startedOn:t.so,banned:t.b,visits:t.v,totalChats:t.cs,chatIds:t.chids,hasNewMessage:!1,isVisitor:!0,unseenCount:0,isFocused:!1,isVisible:!1,vCallData:null,sessionEnd:!1,isOpen:!1,isClientProperty:!1,isPopout:!1,isConverted:!0,anotherDepartment:!1}},Yt=function(t,e){t.chatEndVersion=e.cev||t.chatEndVersion,t.chatVersion=e.cver||t.chatVersion,t.chatWindow=e.cw||t.chatWindow,t.department=e.dpt||t.department,t.status=e.st||t.status,t.pageTitle=e.pt||t.pageTitle,t.pageUrl=e.pu||t.pageUrl,t.incomingCallId=e.incomingCallId,t.isChatRequest=e.cr,typeof e.ha=="boolean"&&(t.hasAgent=e.ha),e.c&&(t.chats=e.c),e.tagsv>t.tagsVersion&&(t.tags=e.tags,t.tagsVersion=e.tagsv),e.alv>t.agentListVersion&&(t.agentList=e.al,t.agentListVersion=e.alv),e.chids&&(t.chatIds=e.chids)},st={clearVisitorChats(){window.store.commit("chatNavigation/clearVisitorChats")},newChatRequest(t){const e=t.vsk||t._id;let r=window.store.getters["chatNavigation/chatRequest"](e),s=window.store.getters["chatNavigation/activeChat"](e);s&&st.removeActiveChat(s.id),r?(Yt(r,t),r.isChatRequest=!0):(r=Kt(t),r.isChatRequest=!0,window.store.getters["chatNavigation/isHiredAgent"]&&(r.isClientProperty=window.store.getters["properties/isClientProperty"](r.propertyId),window.store.commit("chatNavigation/setHAChatRequest",r),st.jointAgentUpdated(r.propertyId)),window.store.commit("chatNavigation/setNewChatRequest",r)),r.department&&(window.store.getters["properties/departments/isAgentAttachedToDepartment"](r.department)?r.anotherDepartment=!1:r.anotherDepartment=!0)},bulkChatRequests(t){for(let e=0;e<t.length;e++)st.newChatRequest(t[e])},removeChatRequest(t){const e=window.store.getters["chatNavigation/chatRequest"](t);e&&(window.store.commit("chatNavigation/unsetNewChatRequest",e),window.store.getters["chatNavigation/isHiredAgent"]&&window.store.commit("chatNavigation/unsetHAChatRequest",e))},setActiveChat(t){let e;const r=t.vsk||t._id||t.id,s=window.store.getters["chatNavigation/chatRequest"](r);if(s?(s.isChatRequest=!1,e=s,st.removeChatRequest(r)):e=window.store.getters["chatNavigation/activeChat"](r),e&&t.isConverted){window.store.commit("chatNavigation/setPropertyChat",e);return}e&&!t.isConverted?(Yt(e,t),e.isHistory=!1):!e&&t.isConverted?e=t:e=Kt(t),window.store.getters.isHiredAgent&&(e.isClientProperty=window.store.getters["properties/isClientProperty"](e.propertyId)),window.store.commit("chatNavigation/setActiveChat",e),window.store.commit("chatNavigation/setPropertyChat",e),st.jointAgentUpdated(e.propertyId)},bulkActiveChats(t){for(let e=0;e<t.length;e++)st.setActiveChat(t[e])},removeActiveChat(t){const e=window.store.getters["chatNavigation/activeChat"](t);!e||e.isOpen&&!e.sessionEnd&&!e.isChatRequest||(e.isVisitor&&!e.hasAgent&&!e.isPopout&&(window.store.commit("chatNavigation/unsetActiveChat",e),window.store.commit("chatNavigation/unsetPropertyChat",e)),e.isVisitor&&window.store.getters["chatNavigation/isHiredAgent"]&&st.jointAgentUpdated(e.propertyId),e.isGroup&&(e.invite=!1))},removeVisitorChat(t){st.removeActiveChat(t),st.removeChatRequest(t)},jointAgentUpdated(t){if(!window.store.getters["chatNavigation/isHiredAgent"])return;const e=_.find(window.store.getters["chatNavigation/propertyChats"],["propertyId",t]),r=_.find(window.store.getters["chatNavigation/haChatRequests"],["propertyId",t]);if(!e||!r||!e.chats||!e.chats.length||r.totalAnswered>=r.concurrency)return;let s=0;const c=window.store.getters["properties/property"](t);for(let d=0;d<e.chats.length;d++){const b=e.chats[d];for(let C=0;C<b.agentList.length;C++){const u=b.agentList[C];if(c.hiredAgentsMap&&c.hiredAgentsMap[u]){s++;break}}}r.totalAnsweredByHA=s},openVisitorChat(t){const e=t._id||t.id;let r=window.store.getters["chatNavigation/visitorChat"](e);if(t.isPopout){window.store.dispatch("popoutConversations/focusConversation",t);return}t.isConverted||(r?Yt(r,t):r=Kt(t)),r.isOpen||(r.isChatRequest||r.incomingCall?window.store.getters["chatNavigation/chatRequest"](r.id)||st.newChatRequest(r):st.setActiveChat(r)),r.isPopout?window.store.dispatch("popoutConversations/openConversation",r,{root:!0}):window.store.dispatch("inlineChats/openChat",r,{root:!0})},openFirstICRByProperty(t){const e=_.find(window.store.getters["chatNavigation/haChatRequests"],["propertyId",t]);if(e&&e.chats.length)for(let r=0;r<e.chats.length;r++){const s=e.chats[r];if(!s.isOpen){st.openVisitorChat(s);break}}},openOldestVisitorChat(){const t=window.store.getters["chatNavigation/chatRequests"];t&&t.length&&st.openVisitorChat(t[0])},visitorSessionEnd(t){const e=window.store.getters["chatNavigation/visitorChat"](t);!e||(e.sessionEnd=!0,e.hasAgent=!1,e.agentList.clear(),e.isOpen&&st.visitorIncomingMessage({vsk:t,m:"VISITOR_LEFT",co:Date.now(),t:"n",ut:"v"}),st.removeVisitorChat(e.id))},setDirectMessage(t){window.store.getters["chatNavigation/activeChat"](t.id)||(t.isFocused=!1,t.isOpen=!1,t.hidden=!1,window.store.commit("chatNavigation/setDirectMessage",t),window.store.commit("chatNavigation/setActiveChat",t))},bulkDirectMessages(t){for(let e=0;e<t.length;e++)st.setDirectMessage(t[e])},setGroupChat(t){window.store.getters["chatNavigation/activeChat"](t.id)||(t.isFocused=!1,t.isOpen=!1,t.hidden=!1,window.store.commit("chatNavigation/setGroupChat",t),window.store.commit("chatNavigation/setActiveChat",t))},bulkGroupChats(t){for(let e=0;e<t.length;e++)st.setGroupChat(t[e])},openGroupChat(t){let e=window.store.getters["chatNavigation/activeChat"](t);e||(e=window.store.getters["agentChats/groupChat"](t)),e&&(st.setGroupChat(e),e.hasNewMessage=!1,e.unSeen=!1,e&&(window.store.getters["chatNavigation/groupViewInline"]&&!e.isPopout?window.store.dispatch("inlineChats/openChat",e,{root:!0}):window.store.dispatch("popoutConversations/openConversation",e,{root:!0})))},openDirectMessage(t){let e=window.store.getters["chatNavigation/activeChat"](t);e||(e=window.store.getters["agentChats/directMessage"](t)),e&&(st.setDirectMessage(e),e.hasNewMessage=!1,e.unSeen=!1,e&&(window.store.getters["chatNavigation/directMessageInline"]&&!e.isPopout?window.store.dispatch("inlineChats/openChat",e,{root:!0}):window.store.dispatch("popoutConversations/openConversation",e,{root:!0})))},openOwnDM(){const t=window.store.getters["agentChats/ownDM"];window.store.getters["chatNavigation/directMessageInline"]&&!t.isPopout?window.store.dispatch("inlineChats/openChat",t,{root:!0}):window.store.dispatch("popoutConversations/openConversation",t,{root:!0})},popoutTabDMChat(t){let e=_.find(window.store.getters["chatNavigation/directMessages"],["agentId",t]);if(!e){const r=window.store.getters["agents/agent"](t);r&&(e={id:r.id,name:r.name,nameSearch:r.nameSearch,recentMessageTimestamp:-1,isDM:!0,lmt:null,pin:!1,agentId:r.id,isFocused:!1,unSeen:!1,hasNewMessage:!1,isOpen:!1,hidden:!1},st.setDirectMessage(e))}e&&window.store.dispatch("popoutConversations/openConversation",e,{root:!0})},popoutTabGroupChat(t){const e=window.store.getters["agentChats/groupChat"](t);e&&window.store.dispatch("popoutConversations/openConversation",e,{root:!0})},removeGroupChat(t){const e=window.store.getters["chatNavigation/activeChat"](t);e&&(window.store.commit("unsetGroupChat",e),window.store.commit("unsetActiveChat",e))},toggleInlineGroupChat(){let t=window.store.getters["chatNavigation/groupViewInline"];t=!t,window.store.commit("chatNavigation/setGroupChatInline",t);const e={groupView:t?"max":"min"};window.socketConnector.saveAgentChatSettings(e,()=>{})},toggleDirectMessageInline(){let t=window.store.getters["chatNavigation/directMessageInline"];t=!t,window.store.commit("chatNavigation/setDirectMessageInline",t);const e={agentView:t?"max":"min"};window.socketConnector.saveAgentChatSettings(e,()=>{})},pinChat(t){const e=window.store.getters["chatNavigation/activeChat"](t);!e||window.socketConnector.pinGroupChat({groupId:t},r=>{r||(e.pin=!0)})},unpinChat(t){const e=window.store.getters["chatNavigation/activeChat"](t);!e||window.socketConnector.unpinGroupChat({groupId:t},r=>{r||(e.pin=!1)})},visitorIncomingMessage(t){const e=window.store.getters["chatNavigation/visitorChat"](t.vsk);if(e&&(t.ut==="a"&&window.emitter.emit(`agentStoppedTyping:${t.vsk}`,{vsk:t.vsk,ao:t.md.ao,rsc:t.md.rsc,aid:t.uid}),t.m==="CHAT_ENDED"&&(e.chatIds?e.chatIds.push(t.md.nchid):e.chatIds=[t.md.pchid,t.md.nchid]),window.emitter.emit(`newMessage:${t.vsk}`,t)),t.m==="VISITOR_NAVIGATION")if(e){if(e.chatVersion>t.cver||!t.md.pu||t.md.pu.indexOf("static.tawk")!==-1)return;e.pageTitle=t.md.pt,e.pageUrl=t.md.pu}else window.Tawk.liveMonitoringController.queueMessageUrl(t)},webRTCCallUpdate(t){window.emitter.emit(`webrtcCallUpdate:${t.vsk}`,t)},updateChatWindowState(t){const e=window.store.getters["chatNavigation/activeChat"](t.vsk);e&&(e.chatWindow=t.cw)},updateUnseenMessage(t){const e=window.store.getters["chatNavigation/activeChat"](t.id);e&&(e.unseenCount=t.unseenCount,e.hasNewMessage=!0)},updateVisitorData(t){let e=window.store.getters["chatNavigation/activeChat"](t.vsk);e||(e=window.store.getters["chatNavigation/chatRequest"](t.vsk)),e&&t.n&&(e.name=t.n)},updateVisitorStatus({chatId:t,status:e}){const r=window.store.getters["chatNavigation/activeChat"](t);r&&(r.status=e)},updateAgentPresence(t){const e=window.store.getters["chatNavigation/activeChat"](t.vsk);e&&e.agentListVersion<t.alv&&(e.agentListVersion=t.alv,e.agentList.clear(),t.al.length&&(e.agentList.push(...t.al),e.isChatRequest=!1),e.hasAgent=!!t.al.length,st.jointAgentUpdated(e.propertyId),e.hasAgent||st.removeVisitorChat(t.vsk))},ignoreChat(t){let e=window.store.getters["chatNavigation/activeChat"](t);e||(e=window.store.getters["chatNavigation/chatRequest"](t)),e&&(e.ignore=!e.ignore)},banVisitor(t){let e=window.store.getters["chatNavigation/activeChat"](t);e||(e=window.store.getters["chatNavigation/chatRequest"](t)),e&&(e.banned=!0,st.visitorSessionEnd(t))},updateVisitorChatData(t){let e=window.store.getters["chatNavigation/activeChat"](t._id);e||(e=window.store.getters["chatNavigation/chatRequest"](t._id)),e&&(e.chatVersion<t.cver&&(e.chatVersion=t.cver,e.chats=t.c),e.chatIds=t.chids)}};window.emitter=ye();window.store=ge;window.PhoneUtil=Cr;window.ConversationMediator=Bt;window.LiveChatsMediator=st;const de=he(yr);de.use(fe);de.mount("#tawk-app");
